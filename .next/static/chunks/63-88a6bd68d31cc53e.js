"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{66651:function(t,e,a){a.d(e,{z:function(){return n}});var o=a(3827);a(64090);let n=t=>{let{variant:e="primary",size:a="md",fullWidth:n=!1,loading:r=!1,disabled:c,children:i,className:s="",...l}=t;return(0,o.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 touch-manipulation select-none"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[e]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(n?"w-full":""," ").concat(s),disabled:c||r,...l,children:[r&&(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})}},57418:function(t,e,a){a.d(e,{Z:function(){return n}});var o=a(3827);a(64090);let n=t=>{let{children:e,title:a,subtitle:n,footer:r,className:c="",padding:i="md",hoverable:s=!1,onClick:l}=t,h={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,o.jsxs)("div",{className:"".concat("bg-white rounded-lg shadow-md border border-gray-200 transition-all"," ").concat(s?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""," ").concat(l?"cursor-pointer touch-manipulation":""," ").concat(c),onClick:()=>{l&&l()},onKeyDown:t=>{l&&("Enter"===t.key||" "===t.key)&&(t.preventDefault(),l())},role:l?"button":void 0,tabIndex:l?0:void 0,children:[(a||n)&&(0,o.jsxs)("div",{className:"border-b border-gray-200 ".concat(h[i]," pb-3"),children:[a&&(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a}),n&&(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:n})]}),(0,o.jsx)("div",{className:h[i],children:e}),r&&(0,o.jsx)("div",{className:"border-t border-gray-200 ".concat(h[i]," pt-3"),children:r})]})}},37269:function(t,e,a){a.d(e,{a:function(){return c}});var o=a(64090),n=a(47907),r=a(98793);let c=()=>{let t=(0,n.useRouter)(),[e,a]=(0,o.useState)(null),[c,i]=(0,o.useState)(!0),[s,l]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{(()=>{let e=(0,r.hP)(),o=(0,r.PR)();e&&o?(0,r.pw)(e)?((0,r.DH)(),a(null),l(!1),t.push("/login")):(a(o),l(!0)):(a(null),l(!1)),i(!1)})()},[t]),{user:e,isLoading:c,isAuthenticated:s,logout:()=>{(0,r.DH)(),a(null),l(!1),t.push("/login")}}}},94065:function(t,e,a){a.d(e,{$P:function(){return c},FD:function(){return y},Hd:function(){return h},Jx:function(){return u},Rt:function(){return m},Wo:function(){return s},dX:function(){return g},h_:function(){return r},ig:function(){return f},nz:function(){return p},qN:function(){return i},rA:function(){return d},zl:function(){return l}});var o=a(98793);let n="http://191.252.184.121:4000";async function r(t){let e=(0,o.hP)(),a=new URLSearchParams;(null==t?void 0:t.status)&&a.append("status",t.status),(null==t?void 0:t.teamId)&&a.append("teamId",t.teamId),(null==t?void 0:t.page)&&a.append("page",t.page.toString()),(null==t?void 0:t.pageSize)&&a.append("pageSize",t.pageSize.toString());let r="".concat(n,"/api/matches").concat(a.toString()?"?".concat(a.toString()):""),c=await fetch(r,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!c.ok)throw Error("Failed to fetch matches");return c.json()}async function c(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/matches/").concat(t),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch match details");return(await a.json()).match}async function i(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/matches"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let t=await a.json().catch(()=>({message:"Failed to create match"}));throw Error(t.error||t.message||"Failed to create match")}return a.json()}async function s(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/matches/").concat(t,"/start"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok)throw Error("Failed to start match");return a.json()}async function l(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/matches/").concat(t.matchId,"/actions"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error((await a.json().catch(()=>({message:"Failed to register action"}))).message||"Failed to register action");return a.json()}async function h(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/statistics/match/").concat(t,"/live"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!a.ok){let t=await a.json().catch(()=>({message:"Failed to fetch live statistics"}));throw console.error("Live statistics error:",t),Error(t.error||t.message||"Failed to fetch live statistics")}let r=await a.json();return console.log("Live statistics response:",r),r.liveStatistics||r}async function u(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/matches/").concat(t,"/sets"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok){let t=await a.json().catch(()=>({message:"Failed to create set"}));throw Error(t.error||t.message||"Failed to create set")}let r=await a.json();return{set:r.set||r}}async function d(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/sets/").concat(t,"/finalize"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok){let t=await a.json().catch(()=>({message:"Failed to finalize set"}));throw Error(t.error||t.message||"Failed to finalize set")}return a.json()}async function p(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/matches/").concat(t,"/sets"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch match sets");let r=await a.json();return r.sets||r}async function f(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/matches/").concat(t,"/finalize"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok){let t=await a.json().catch(()=>({message:"Failed to finalize match"}));throw Error(t.error||t.message||"Failed to finalize match")}return a.json()}async function g(t){let e=(0,o.hP)();console.log("Fetching match statistics for:",t);let a=await fetch("".concat(n,"/api/statistics/match/").concat(t),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!a.ok){let t=await a.json().catch(()=>({message:"Failed to fetch match statistics"}));throw console.error("Match statistics error:",t),Error(t.error||t.message||"Failed to fetch match statistics")}let r=await a.json();return console.log("Match statistics response:",r),r.statistics||r}async function m(t){let e=(0,o.hP)(),a=await fetch("".concat(n,"/api/matches/").concat(t,"/actions/last"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!a.ok){let t=await a.json().catch(()=>({message:"Failed to undo action"}));throw Error(t.error||t.message||"Failed to undo action")}return a.json()}async function y(t,e){let a=(0,o.hP)();if(!a)throw Error("No authentication token available. Please log in again.");try{let t=a.split(".");if(3===t.length){let e=JSON.parse(atob(t[1])),a=Date.now()/1e3;if(e.exp&&e.exp<a)throw Error("Authentication token has expired. Please log in again.")}}catch(t){console.warn("Could not validate token expiration:",t)}let r=await fetch("".concat(n,"/api/statistics/match/").concat(t,"/export?format=").concat(e),{headers:{Authorization:"Bearer ".concat(a)}});if(!r.ok){let t=await r.text().catch(()=>"Failed to export match statistics as ".concat(e)),a="Failed to export match statistics as ".concat(e);try{let e=JSON.parse(t);a=e.error||e.message||a}catch(e){a=t||a}throw Error(a)}return r.blob()}},98793:function(t,e,a){a.d(e,{DH:function(){return h},PR:function(){return l},av:function(){return s},hP:function(){return i},pw:function(){return d},vD:function(){return c}});let o="volleyball_access_token",n="volleyball_refresh_token",r="volleyball_user",c=t=>{localStorage.setItem(o,t.accessToken),localStorage.setItem(n,t.refreshToken)},i=()=>localStorage.getItem(o),s=t=>{localStorage.setItem(r,JSON.stringify(t))},l=()=>{let t=localStorage.getItem(r);if(!t)return null;try{return JSON.parse(t)}catch(t){return null}},h=()=>{localStorage.removeItem(o),localStorage.removeItem(n),localStorage.removeItem(r)},u=t=>{try{let e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch(t){return null}},d=t=>{let e=u(t);if(!e||!e.exp)return!0;let a=Date.now()/1e3;return e.exp<a}}}]);