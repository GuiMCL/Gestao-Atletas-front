(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{31177:function(e,t,r){Promise.resolve().then(r.bind(r,48836))},47907:function(e,t,r){"use strict";var n=r(15313);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},48836:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(3827),u=r(64090),a=r(47907),o=r(37269);function l(){let e=(0,a.useRouter)(),{user:t,isLoading:r,isAuthenticated:l}=(0,o.a)();return(0,u.useEffect)(()=>{r||(l&&t?"ATHLETE"===t.role?e.push("/dashboard"):("COACH"===t.role||"ADMIN"===t.role)&&e.push("/coach/dashboard"):e.push("/login"))},[l,t,r,e]),(0,n.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-24",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Carregando..."})]})})}},37269:function(e,t,r){"use strict";r.d(t,{a:function(){return o}});var n=r(64090),u=r(47907),a=r(98793);let o=()=>{let e=(0,u.useRouter)(),[t,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(!0),[s,c]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{(()=>{let t=(0,a.hP)(),n=(0,a.PR)();t&&n?(0,a.pw)(t)?((0,a.DH)(),r(null),c(!1),e.push("/login")):(r(n),c(!0)):(r(null),c(!1)),l(!1)})()},[e]),{user:t,isLoading:o,isAuthenticated:s,logout:()=>{(0,a.DH)(),r(null),c(!1),e.push("/login")}}}},98793:function(e,t,r){"use strict";r.d(t,{DH:function(){return i},PR:function(){return c},av:function(){return s},hP:function(){return l},pw:function(){return m},vD:function(){return o}});let n="volleyball_access_token",u="volleyball_refresh_token",a="volleyball_user",o=e=>{localStorage.setItem(n,e.accessToken),localStorage.setItem(u,e.refreshToken)},l=()=>localStorage.getItem(n),s=e=>{localStorage.setItem(a,JSON.stringify(e))},c=()=>{let e=localStorage.getItem(a);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},i=()=>{localStorage.removeItem(n),localStorage.removeItem(u),localStorage.removeItem(a)},f=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch(e){return null}},m=e=>{let t=f(e);if(!t||!t.exp)return!0;let r=Date.now()/1e3;return t.exp<r}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=31177)}),_N_E=e.O()}]);