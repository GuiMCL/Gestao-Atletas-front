(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[225],{17143:function(e,t,a){Promise.resolve().then(a.bind(a,19572))},19572:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var r=a(3827),s=a(64090),n=a(47907),l=a(37269),o=a(14207),i=a(57418),c=a(66651),d=a(79173),m=a(32278),u=a(6145),h=a(84831),x=a(54291);function g(){let e=(0,n.useRouter)(),{user:t,isLoading:g,isAuthenticated:p}=(0,l.a)(),[f,b]=(0,s.useState)(null),[y,j]=(0,s.useState)(null),[v,w]=(0,s.useState)([]),[N,k]=(0,s.useState)([]),[S,C]=(0,s.useState)(!0),[z,P]=(0,s.useState)(null),[D,T]=(0,s.useState)({}),[E,M]=(0,s.useState)(""),[A,F]=(0,s.useState)(""),[L,R]=(0,s.useState)(""),[I,B]=(0,s.useState)("");(0,s.useEffect)(()=>{if(!g&&!p){e.push("/login");return}if(t&&"COACH"!==t.role&&"ADMIN"!==t.role){e.push("/dashboard");return}t&&W(new URLSearchParams(window.location.search).get("teamId")||void 0)},[t,p,g,e]);let W=async e=>{if(t)try{C(!0),P(null);let t=e;if(!t){let{getAllTeams:e}=await Promise.resolve().then(a.bind(a,14207)),r=await e();if(0===r.length){P("Nenhum time encontrado. Entre em contato com um administrador."),C(!1);return}t=r[0].id}let r=await (0,o.VP)(t);b(r);let s=await (0,o.P3)(t);j(s),await O(t)}catch(e){console.error("Error loading analytics data:",e),P("Falha ao carregar dados de an\xe1lise. Tente novamente.")}finally{C(!1)}},O=async e=>{let t=e||"team-1",a={};E&&(a.startDate=E),A&&(a.endDate=A),L&&(a.opponent=L),I&&"all"!==I&&(a.fundamental=I);try{let[e,r]=await Promise.all([(0,o.Yy)(t,a),(0,o.LD)(t,a)]);w(e),k(r),T(a)}catch(e){console.error("Error applying filters:",e)}},_=e=>e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim(),H=e=>e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),V=(e,t)=>t.includes("Efficiency")||t.includes("Quality")?"".concat((100*e).toFixed(1),"%"):e.toFixed(1);if(g||S)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando an\xe1lises..."})]})});if(z)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)(i.Z,{className:"max-w-md",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-red-600 mb-4",children:z}),(0,r.jsx)(c.z,{onClick:()=>W(),children:"Retry"})]})})});if(!f||!y)return null;let Z=N&&0!==N.length?Object.values(N.reduce((e,t)=>{let a=new Date(t.date).toLocaleDateString("pt-BR",{month:"short",day:"numeric"});return e[a]||(e[a]={date:a}),e[a][t.metric]=t.value,e},{})):[],K=(()=>{if(!N||0===N.length)return[];let e=Array.from(new Set(N.map(e=>e.metric))),t={attackEfficiency:"#3b82f6",serveEfficiency:"#10b981",receptionQuality:"#f59e0b",blockEfficiency:"#8b5cf6",totalPoints:"#ef4444"};return e.map(e=>({key:e,color:t[e]||"#6b7280",name:_(e)}))})();return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Analytics"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:f.name})]}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>e.push("/coach/dashboard"),children:"Voltar para Painel"})})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Performance"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(x.W,{title:"Total Matches",value:y.totalMatches||0,subtitle:"".concat(y.wins||0,"W - ").concat(y.losses||0,"L"),icon:(0,r.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,r.jsx)(x.W,{title:"Attack Efficiency",value:"".concat((100*(y.averageAttackEfficiency||0)).toFixed(1),"%"),subtitle:"Team average",icon:(0,r.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,r.jsx)(x.W,{title:"Serve Efficiency",value:"".concat((100*(y.averageServeEfficiency||0)).toFixed(1),"%"),subtitle:"Team average",icon:(0,r.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)(x.W,{title:"Reception Quality",value:"".concat((100*(y.averageReceptionQuality||0)).toFixed(1),"%"),subtitle:"Team average",icon:(0,r.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})})})]})]}),(0,r.jsxs)(i.Z,{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,r.jsx)(m.I,{type:"date",value:E,onChange:e=>M(e.target.value),placeholder:"Start date"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,r.jsx)(m.I,{type:"date",value:A,onChange:e=>F(e.target.value),placeholder:"End date"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opponent"}),(0,r.jsx)(m.I,{type:"text",value:L,onChange:e=>R(e.target.value),placeholder:"Opponent team"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fundamental"}),(0,r.jsx)(d.P,{value:I,onChange:e=>B(e.target.value),options:[{value:"",label:"All Fundamentals"},{value:"attack",label:"Attack"},{value:"serve",label:"Serve"},{value:"reception",label:"Reception"},{value:"block",label:"Block"},{value:"defense",label:"Defense"}]})]}),(0,r.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,r.jsx)(c.z,{onClick:()=>{O()},className:"flex-1",children:"Apply"}),(0,r.jsx)(c.z,{variant:"outline",onClick:()=>{M(""),F(""),R(""),B(""),T({}),O()},className:"flex-1",children:"Reset"})]})]})]}),Z.length>0&&K.length>0&&(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(h.r,{data:Z,xAxisKey:"date",yAxisKeys:K,type:"line",height:400,title:"Performance Trends Over Time"})}),0===Z.length&&(0,r.jsx)(i.Z,{className:"mb-8",children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,r.jsx)("p",{className:"text-gray-600",children:"No trend data available for the selected filters"})]})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Roster & Individual Statistics"}),(0,r.jsx)(i.Z,{children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.length>0?v.map(t=>(0,r.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e.push("/athletes/".concat(t.athlete.id)),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:t.athlete.name.split(" ").map(e=>e[0]).join("").substring(0,2)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:t.athlete.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Rank #",t.rank]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.value.toFixed(1)}),(0,r.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:t.metric})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[(0,r.jsx)("div",{className:"text-gray-600 text-xs",children:"Position"}),(0,r.jsx)("div",{className:"font-semibold",children:t.athlete.position})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[(0,r.jsx)("div",{className:"text-gray-600 text-xs",children:"Jersey #"}),(0,r.jsx)("div",{className:"font-semibold",children:t.athlete.jerseyNumber})]})]}),(0,r.jsx)("button",{onClick:a=>{a.stopPropagation(),e.push("/athletes/".concat(t.athlete.id))},className:"mt-3 w-full text-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Full Statistics →"})]},t.athlete.id)):(0,r.jsxs)("div",{className:"col-span-full text-center py-8",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,r.jsx)("p",{className:"text-gray-600",children:"No athlete data available"})]})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Athlete Rankings"}),v.length>0?(0,r.jsx)(i.Z,{children:(0,r.jsx)(u.w,{data:v,columns:[{key:"rank",header:"Rank",sortable:!0,render:(e,t)=>(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"\n            inline-flex items-center justify-center w-8 h-8 rounded-full font-semibold\n            ".concat(1===t.rank?"bg-yellow-100 text-yellow-800":"","\n            ").concat(2===t.rank?"bg-gray-100 text-gray-800":"","\n            ").concat(3===t.rank?"bg-orange-100 text-orange-800":"","\n            ").concat(t.rank>3?"bg-blue-50 text-blue-700":"","\n          "),children:t.rank})})},{key:"athlete",header:"Athlete",sortable:!0,render:(e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:t.athlete.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["#",t.athlete.jerseyNumber," • ",H(t.athlete.position)]})]})},{key:"metric",header:"Metric",sortable:!0,render:(e,t)=>(0,r.jsx)("span",{className:"text-gray-700",children:_(t.metric)})},{key:"value",header:"Value",sortable:!0,render:(e,t)=>(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:V(t.value,t.metric)})}]})}):(0,r.jsx)(i.Z,{children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,r.jsx)("p",{className:"text-gray-600",children:"No ranking data available for the selected filters"})]})})]})]})]})}},66651:function(e,t,a){"use strict";a.d(t,{z:function(){return s}});var r=a(3827);a(64090);let s=e=>{let{variant:t="primary",size:a="md",fullWidth:s=!1,loading:n=!1,disabled:l,children:o,className:i="",...c}=e;return(0,r.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 touch-manipulation select-none"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(s?"w-full":""," ").concat(i),disabled:l||n,...c,children:[n&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})}},57418:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(3827);a(64090);let s=e=>{let{children:t,title:a,subtitle:s,footer:n,className:l="",padding:o="md",hoverable:i=!1,onClick:c}=e,d={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,r.jsxs)("div",{className:"".concat("bg-white rounded-lg shadow-md border border-gray-200 transition-all"," ").concat(i?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""," ").concat(c?"cursor-pointer touch-manipulation":""," ").concat(l),onClick:()=>{c&&c()},onKeyDown:e=>{c&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),c())},role:c?"button":void 0,tabIndex:c?0:void 0,children:[(a||s)&&(0,r.jsxs)("div",{className:"border-b border-gray-200 ".concat(d[o]," pb-3"),children:[a&&(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a}),s&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),(0,r.jsx)("div",{className:d[o],children:t}),n&&(0,r.jsx)("div",{className:"border-t border-gray-200 ".concat(d[o]," pt-3"),children:n})]})}},6145:function(e,t,a){"use strict";a.d(t,{w:function(){return n}});var r=a(3827),s=a(64090);function n(e){let{data:t,columns:a,onRowClick:n,pagination:l=!1,pageSize:o=10,className:i="",emptyMessage:c="No data available"}=e,[d,m]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[x,g]=(0,s.useState)(1),p=(e,t)=>{t&&(d===e?"asc"===u?h("desc"):"desc"===u&&(h(null),m(null)):(m(e),h("asc")))},f=(0,s.useMemo)(()=>d&&u?[...t].sort((e,t)=>{let a=e[d],r=t[d];if(a===r)return 0;let s=a<r?-1:1;return"asc"===u?s:-s}):t,[t,d,u]),b=(0,s.useMemo)(()=>{if(!l)return f;let e=(x-1)*o;return f.slice(e,e+o)},[f,l,x,o]),y=Math.ceil(t.length/o),j=e=>{g(e)},v=e=>d!==e?"⇅":"asc"===u?"↑":"desc"===u?"↓":"⇅";return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden ".concat(i),children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsx)("tr",{children:a.map(e=>(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(e.sortable?"cursor-pointer hover:bg-gray-100":""),style:{width:e.width},onClick:()=>p(e.key,e.sortable),children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{children:e.header}),e.sortable&&(0,r.jsx)("span",{className:"text-gray-400",children:v(e.key)})]})},e.key))})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===b.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:a.length,className:"px-6 py-8 text-center text-sm text-gray-500",children:c})}):b.map((e,t)=>(0,r.jsx)("tr",{className:"".concat(n?"cursor-pointer hover:bg-gray-50":""," transition-colors"),onClick:()=>null==n?void 0:n(e),children:a.map(t=>(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.render?t.render(e[t.key],e):e[t.key]},t.key))},t))})]})}),l&&y>1&&(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(x-1)*o+1," to"," ",Math.min(x*o,t.length)," of ",t.length," results"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>j(x-1),disabled:1===x,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:y},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>j(e),className:"px-3 py-1 text-sm font-medium rounded-md ".concat(x===e?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:e},e)),(0,r.jsx)("button",{onClick:()=>j(x+1),disabled:x===y,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}},32278:function(e,t,a){"use strict";a.d(t,{I:function(){return s}});var r=a(3827);let s=(0,a(64090).forwardRef)((e,t)=>{let{label:a,error:s,helperText:n,fullWidth:l=!1,validationState:o="default",className:i="",id:c,...d}=e,m=c||"input-".concat(Math.random().toString(36).substr(2,9)),u=s?"error":o;return(0,r.jsxs)("div",{className:l?"w-full":"",children:[a&&(0,r.jsx)("label",{htmlFor:m,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,r.jsx)("input",{ref:t,id:m,className:"".concat("block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400"," ").concat({default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[u]," ").concat(l?"w-full":""," ").concat(i),...d}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:s}),n&&!s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});s.displayName="Input"},84831:function(e,t,a){"use strict";a.d(t,{r:function(){return x}});var r=a(3827);a(64090);var s=a(66363),n=a(81433),l=a(26587),o=a(38333),i=a(23356),c=a(22983),d=a(10166),m=a(94866),u=a(98061),h=a(28485);let x=e=>{let{data:t,xAxisKey:a,yAxisKeys:x,type:g="line",height:p=300,className:f="",title:b}=e,y="line"===g?s.w:n.v;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-3 sm:p-4 md:p-6 ".concat(f),children:[b&&(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:b}),(0,r.jsx)("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6",children:(0,r.jsx)("div",{className:"min-w-[300px]",children:(0,r.jsx)(l.h,{width:"100%",height:p,children:(0,r.jsxs)(y,{data:t,children:[(0,r.jsx)(o.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,r.jsx)(i.K,{dataKey:a,stroke:"#6b7280",style:{fontSize:"10px"},tick:{fontSize:10},interval:"preserveStartEnd"}),(0,r.jsx)(c.B,{stroke:"#6b7280",style:{fontSize:"10px"},tick:{fontSize:10},width:40}),(0,r.jsx)(d.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px"}}),(0,r.jsx)(m.D,{wrapperStyle:{fontSize:"10px"},iconSize:10}),"line"===g?x.map(e=>(0,r.jsx)(u.x,{type:"monotone",dataKey:e.key,stroke:e.color,strokeWidth:2,name:e.name||e.key,dot:{fill:e.color,r:3},activeDot:{r:5}},e.key)):x.map(e=>(0,r.jsx)(h.$,{dataKey:e.key,fill:e.color,name:e.name||e.key},e.key))]})})})})]})}},79173:function(e,t,a){"use strict";a.d(t,{P:function(){return s}});var r=a(3827);let s=(0,a(64090).forwardRef)((e,t)=>{let{label:a,error:s,helperText:n,fullWidth:l=!1,validationState:o="default",options:i,placeholder:c,className:d="",id:m,...u}=e,h=m||"select-".concat(Math.random().toString(36).substr(2,9)),x=s?"error":o;return(0,r.jsxs)("div",{className:l?"w-full":"",children:[a&&(0,r.jsx)("label",{htmlFor:h,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,r.jsxs)("select",{ref:t,id:h,className:"".concat("block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900"," ").concat({default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[x]," ").concat(l?"w-full":""," ").concat(d),...u,children:[c&&(0,r.jsx)("option",{value:"",disabled:!0,children:c}),i.map(e=>(0,r.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:s}),n&&!s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});s.displayName="Select"},54291:function(e,t,a){"use strict";a.d(t,{W:function(){return s}});var r=a(3827);a(64090);let s=e=>{let{title:t,value:a,trend:s,trendValue:n,icon:l,className:o="",subtitle:i}=e;return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 sm:p-6 ".concat(o),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1 truncate",children:t}),(0,r.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 truncate",children:a}),i&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:i}),s&&n&&(0,r.jsxs)("div",{className:"flex items-center mt-2 text-xs sm:text-sm ".concat({up:"text-green-600",down:"text-red-600",neutral:"text-gray-600"}[s]),children:[(0,r.jsx)("span",{className:"mr-1",children:{up:"↑",down:"↓",neutral:"→"}[s]}),(0,r.jsx)("span",{className:"truncate",children:n})]})]}),l&&(0,r.jsx)("div",{className:"flex-shrink-0 ml-2 sm:ml-4 text-gray-400",children:l})]})})}},37269:function(e,t,a){"use strict";a.d(t,{a:function(){return l}});var r=a(64090),s=a(47907),n=a(98793);let l=()=>{let e=(0,s.useRouter)(),[t,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0),[i,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(()=>{let t=(0,n.hP)(),r=(0,n.PR)();t&&r?(0,n.pw)(t)?((0,n.DH)(),a(null),c(!1),e.push("/login")):(a(r),c(!0)):(a(null),c(!1)),o(!1)})()},[e]),{user:t,isLoading:l,isAuthenticated:i,logout:()=>{(0,n.DH)(),a(null),c(!1),e.push("/login")}}}},14207:function(e,t,a){"use strict";a.d(t,{Cm:function(){return m},LD:function(){return c},P3:function(){return l},VP:function(){return n},Yy:function(){return i},fs:function(){return u},getAllTeams:function(){return d},yw:function(){return o}});var r=a(98793);let s="http://localhost:4000";async function n(e){let t=(0,r.hP)(),a=await fetch("".concat(s,"/api/teams/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team details");return a.json()}async function l(e){let t=(0,r.hP)();console.log("Fetching team statistics for:",e);let a=await fetch("".concat(s,"/api/teams/").concat(e,"/statistics"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch team statistics"}));throw console.error("Team statistics error:",e),Error(e.error||e.message||"Failed to fetch team statistics")}let n=await a.json();return console.log("Team statistics response:",n),n.statistics||n}async function o(e){let t=(0,r.hP)(),a=await fetch("".concat(s,"/api/teams/").concat(e,"/athletes"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team athletes");let n=await a.json();return n.athletes||n}async function i(e,t){let a=(0,r.hP)(),n=new URLSearchParams;n.append("metric","totalPoints"),(null==t?void 0:t.startDate)&&n.append("startDate",t.startDate),(null==t?void 0:t.endDate)&&n.append("endDate",t.endDate),(null==t?void 0:t.opponent)&&n.append("opponentTeamId",t.opponent);let l="".concat(s,"/api/teams/").concat(e,"/rankings?").concat(n.toString());console.log("Fetching team rankings:",l);let o=await fetch(l,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!o.ok){let e=await o.json().catch(()=>({message:"Failed to fetch team rankings"}));throw console.error("Team rankings error:",e),Error(e.error||e.message||"Failed to fetch team rankings")}let i=await o.json();return console.log("Team rankings response:",i),i.rankings||i}async function c(e,t){let a=(0,r.hP)(),n=new URLSearchParams;(null==t?void 0:t.fundamental)||n.append("metric","attackEfficiency"),(null==t?void 0:t.startDate)&&n.append("startDate",t.startDate),(null==t?void 0:t.endDate)&&n.append("endDate",t.endDate),(null==t?void 0:t.opponent)&&n.append("opponentTeamId",t.opponent),(null==t?void 0:t.fundamental)&&n.append("fundamental",t.fundamental);let l="".concat(s,"/api/teams/").concat(e,"/trends").concat(n.toString()?"?".concat(n.toString()):"");console.log("Fetching team trends:",l);let o=await fetch(l,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!o.ok){let e=await o.json().catch(()=>({message:"Failed to fetch team trends"}));throw console.error("Team trends error:",e),Error(e.error||e.message||"Failed to fetch team trends")}let i=await o.json();return console.log("Team trends response:",i),i.trends||i}async function d(){let e=(0,r.hP)(),t=await fetch("".concat(s,"/api/teams"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch teams");return(await t.json()).teams}async function m(e){let t=(0,r.hP)(),a=await fetch("".concat(s,"/api/teams"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok)throw Error("Failed to create team");return(await a.json()).team}async function u(e,t){let a=(0,r.hP)(),n=await fetch("".concat(s,"/api/teams/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!n.ok)throw Error("Failed to update team");return(await n.json()).team}},98793:function(e,t,a){"use strict";a.d(t,{DH:function(){return d},PR:function(){return c},av:function(){return i},hP:function(){return o},pw:function(){return u},vD:function(){return l}});let r="volleyball_access_token",s="volleyball_refresh_token",n="volleyball_user",l=e=>{localStorage.setItem(r,e.accessToken),localStorage.setItem(s,e.refreshToken)},o=()=>localStorage.getItem(r),i=e=>{localStorage.setItem(n,JSON.stringify(e))},c=()=>{let e=localStorage.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},d=()=>{localStorage.removeItem(r),localStorage.removeItem(s),localStorage.removeItem(n)},m=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch(e){return null}},u=e=>{let t=m(e);if(!t||!t.exp)return!0;let a=Date.now()/1e3;return t.exp<a}}},function(e){e.O(0,[443,971,69,744],function(){return e(e.s=17143)}),_N_E=e.O()}]);