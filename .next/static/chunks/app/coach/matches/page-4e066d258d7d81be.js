(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{57973:function(e,s,a){Promise.resolve().then(a.bind(a,18170))},47907:function(e,s,a){"use strict";var t=a(15313);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},18170:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var t=a(3827),r=a(64090),n=a(47907),i=a(37269),c=a(94065),l=a(57418),d=a(66651),o=a(48584);function m(){let e=(0,n.useRouter)(),{user:s,isLoading:a,isAuthenticated:m}=(0,i.a)(),[x,h]=(0,r.useState)([]),[u,p]=(0,r.useState)([]),[j,N]=(0,r.useState)(!0),[f,g]=(0,r.useState)(null),[v,w]=(0,r.useState)("ALL"),[k,L]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!a&&!m){e.push("/login");return}if(s&&"COACH"!==s.role&&"ADMIN"!==s.role){e.push("/dashboard");return}s&&y()},[s,m,a,e]),(0,r.useEffect)(()=>{"ALL"===v?p(x):p(x.filter(e=>e.status===v))},[x,v]);let y=async()=>{try{N(!0),g(null);let e=null==s?void 0:s.teamId,a=(await (0,c.h_)({teamId:e,page:1,pageSize:100})).matches.sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime());h(a)}catch(e){console.error("Error loading matches:",e),g("Falha ao carregar partidas. Tente novamente.")}finally{N(!1)}},C=async s=>{try{L(s),g(null),await (0,c.Wo)(s),e.push("/coach/matches/".concat(s,"/live"))}catch(e){console.error("Error starting match:",e),g(e instanceof Error?e.message:"Falha ao iniciar partida. Tente novamente."),L(null)}},b=e=>new Date(e).toLocaleDateString("pt-BR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=e=>e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),z=e=>{switch(e){case"SCHEDULED":default:return"default";case"IN_PROGRESS":return"info";case"FINALIZED":return"success";case"CANCELLED":return"error"}},S=s=>{"IN_PROGRESS"===s.status?e.push("/coach/matches/".concat(s.id,"/live")):e.push("/coach/matches/".concat(s.id))};return a||j?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando partidas..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-3 md:py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3 md:gap-0",children:[(0,t.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,t.jsx)("button",{onClick:()=>e.push("/coach/dashboard"),className:"mr-2 md:mr-4 text-gray-600 hover:text-gray-900 touch-manipulation p-1",children:(0,t.jsx)("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h1",{className:"text-lg md:text-2xl font-bold text-gray-900 truncate",children:"Gerenciamento de Partidas"}),(0,t.jsxs)("p",{className:"text-xs md:text-sm text-gray-600 mt-1 truncate",children:[u.length," ",1===u.length?"partida":"partidas","ALL"!==v&&" (".concat(E(v),")")]})]})]}),(0,t.jsxs)(d.z,{onClick:()=>e.push("/coach/matches/create"),size:"sm",className:"md:text-base",children:[(0,t.jsx)("svg",{className:"w-4 h-4 md:w-5 md:h-5 mr-1 md:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Criar Nova Partida"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Criar"})]})]})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 md:py-8",children:[f&&(0,t.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("p",{className:"text-red-800",children:f})]})}),(0,t.jsx)("div",{className:"mb-4 md:mb-6",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(d.z,{variant:"ALL"===v?"primary":"outline",size:"sm",onClick:()=>w("ALL"),className:"text-xs md:text-sm",children:"Todas as Partidas"}),(0,t.jsx)(d.z,{variant:"SCHEDULED"===v?"primary":"outline",size:"sm",onClick:()=>w("SCHEDULED"),className:"text-xs md:text-sm",children:"Agendadas"}),(0,t.jsx)(d.z,{variant:"IN_PROGRESS"===v?"primary":"outline",size:"sm",onClick:()=>w("IN_PROGRESS"),className:"text-xs md:text-sm",children:"Em Andamento"}),(0,t.jsx)(d.z,{variant:"FINALIZED"===v?"primary":"outline",size:"sm",onClick:()=>w("FINALIZED"),className:"text-xs md:text-sm",children:"Finalizadas"}),(0,t.jsx)(d.z,{variant:"CANCELLED"===v?"primary":"outline",size:"sm",onClick:()=>w("CANCELLED"),className:"text-xs md:text-sm",children:"Canceladas"})]})}),0===u.length?(0,t.jsx)(l.Z,{children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"ALL"===v?"Nenhuma partida encontrada":"Nenhuma partida ".concat(E(v).toLowerCase())}),"ALL"===v&&(0,t.jsx)(d.z,{onClick:()=>e.push("/coach/matches/create"),children:"Criar Sua Primeira Partida"})]})}):(0,t.jsx)("div",{className:"space-y-3 md:space-y-4",children:u.map(s=>(0,t.jsx)(l.Z,{hoverable:!0,className:"cursor-pointer",children:(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap md:flex-nowrap gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",onClick:()=>S(s),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-4 mb-2 md:mb-3 flex-wrap",children:[(0,t.jsxs)("div",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:[s.homeTeam.name," vs ",s.awayTeam.name]}),(0,t.jsx)(o.C,{variant:z(s.status),size:"sm",children:E(s.status)})]}),(0,t.jsxs)("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 text-xs md:text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("svg",{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"truncate",children:b(s.date)})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("svg",{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,t.jsx)("span",{className:"truncate",children:s.location})]}),s.finalScore&&(0,t.jsxs)("div",{className:"flex items-center font-medium text-gray-900",children:[(0,t.jsx)("svg",{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),"Final: ",s.finalScore]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-3 ml-auto",children:["SCHEDULED"===s.status&&(0,t.jsxs)(d.z,{size:"sm",onClick:e=>{e.stopPropagation(),C(s.id)},loading:k===s.id,disabled:k===s.id,className:"text-xs md:text-sm",children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:"Iniciar Partida"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Iniciar"})]}),"IN_PROGRESS"===s.status&&(0,t.jsxs)(d.z,{size:"sm",onClick:a=>{a.stopPropagation(),e.push("/coach/matches/".concat(s.id,"/live"))},className:"text-xs md:text-sm",children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:"Ir para Partida ao Vivo"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Ao Vivo"})]}),"FINALIZED"===s.status&&(0,t.jsxs)(d.z,{size:"sm",variant:"outline",onClick:a=>{a.stopPropagation(),e.push("/coach/matches/".concat(s.id))},className:"text-xs md:text-sm",children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:"Ver Relat\xf3rio"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Ver"})]}),(0,t.jsx)("svg",{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},s.id))})]})]})}},48584:function(e,s,a){"use strict";a.d(s,{C:function(){return r}});var t=a(3827);a(64090);let r=e=>{let{children:s,variant:a="default",size:r="md",className:n=""}=e;return(0,t.jsx)("span",{className:"inline-flex items-center font-medium rounded-full ".concat({default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[a]," ").concat({sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"}[r]," ").concat(n),children:s})}}},function(e){e.O(0,[63,971,69,744],function(){return e(e.s=57973)}),_N_E=e.O()}]);