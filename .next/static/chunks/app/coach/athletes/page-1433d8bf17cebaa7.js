(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{83225:function(e,t,a){Promise.resolve().then(a.bind(a,82346))},47907:function(e,t,a){"use strict";var r=a(15313);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},82346:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var r=a(3827),n=a(64090),s=a(47907),o=a(37269),l=a(66651),i=a(57418),c=a(6145),d=a(70492),u=a(32278),m=a(79173),h=a(14207),x=a(98793);function g(){let e=(0,s.useRouter)(),{user:t,isLoading:a,isAuthenticated:g}=(0,o.a)(),[p,b]=(0,n.useState)([]),[f,y]=(0,n.useState)(""),[j,v]=(0,n.useState)([]),[N,w]=(0,n.useState)(!0),[k,C]=(0,n.useState)(null),[S,P]=(0,n.useState)(!1),[E,T]=(0,n.useState)(!1),[I,A]=(0,n.useState)(null),[O,z]=(0,n.useState)({name:"",jerseyNumber:"",position:"",bio:""}),[D,F]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!a&&!g){e.push("/login");return}if(t&&"COACH"!==t.role&&"ADMIN"!==t.role){e.push("/dashboard");return}t&&B()},[t,g,a,e]);let B=async()=>{try{w(!0);let e=await (0,h.getAllTeams)();b(e);let a=e[0];if((null==t?void 0:t.role)==="COACH"&&(null==t?void 0:t.teamId)){let r=e.find(e=>e.id===t.teamId);r&&(a=r)}a&&(y(a.id),await L(a.id))}catch(e){console.error("Error loading teams:",e),C("Falha ao carregar times")}finally{w(!1)}},L=async e=>{try{w(!0),C(null);let t=await fetch("".concat("http://localhost:4000","/api/teams/").concat(e,"/athletes"),{headers:{Authorization:"Bearer ".concat((0,x.hP)())}});if(!t.ok)throw Error("Falha ao buscar atletas");let a=await t.json();v(a.athletes||[])}catch(e){console.error("Error loading athletes:",e),C("Falha ao carregar atletas")}finally{w(!1)}},R=e=>{if((null==t?void 0:t.role)==="COACH"&&(null==t?void 0:t.teamId)&&e!==t.teamId){C("Voc\xea s\xf3 pode gerenciar atletas do seu pr\xf3prio time");return}y(e),L(e)},M=async()=>{if(!O.name||!O.jerseyNumber||!O.position){C("Por favor, preencha todos os campos obrigat\xf3rios");return}try{if(F(!0),C(null),!(await fetch("".concat("http://localhost:4000","/api/athletes"),{method:"POST",headers:{Authorization:"Bearer ".concat((0,x.hP)()),"Content-Type":"application/json"},body:JSON.stringify({name:O.name,jerseyNumber:parseInt(O.jerseyNumber),position:O.position,teamId:f,bio:O.bio||void 0})})).ok)throw Error("Falha ao criar atleta");P(!1),U(),await L(f)}catch(e){console.error("Error creating athlete:",e),C("Falha ao criar atleta")}finally{F(!1)}},_=async()=>{if(!I||!O.name||!O.jerseyNumber||!O.position){C("Por favor, preencha todos os campos obrigat\xf3rios");return}try{if(F(!0),C(null),!(await fetch("".concat("http://localhost:4000","/api/athletes/").concat(I.id),{method:"PUT",headers:{Authorization:"Bearer ".concat((0,x.hP)()),"Content-Type":"application/json"},body:JSON.stringify({name:O.name,jerseyNumber:parseInt(O.jerseyNumber),position:O.position,bio:O.bio||void 0})})).ok)throw Error("Falha ao atualizar atleta");T(!1),A(null),U(),await L(f)}catch(e){console.error("Error updating athlete:",e),C("Falha ao atualizar atleta")}finally{F(!1)}},H=()=>{U(),P(!0)},J=e=>{A(e),z({name:e.name,jerseyNumber:e.jerseyNumber.toString(),position:e.position,bio:e.bio||""}),T(!0)},U=()=>{z({name:"",jerseyNumber:"",position:"",bio:""}),C(null)},V=[{value:"",label:"Selecionar Posi\xe7\xe3o"},{value:"SETTER",label:"Levantador"},{value:"OUTSIDE_HITTER",label:"Ponta"},{value:"OPPOSITE",label:"Oposto"},{value:"MIDDLE_BLOCKER",label:"Central"},{value:"LIBERO",label:"L\xedbero"}];if(a||N)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})});let K=(null==t?void 0:t.role)==="COACH"&&(null==t?void 0:t.teamId)?p.filter(e=>e.id===t.teamId):p;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Atletas"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Gerencie os atletas do seu time"})]}),(0,r.jsx)(l.z,{variant:"outline",onClick:()=>e.push("/coach/dashboard"),children:"Voltar para Painel"})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(i.Z,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecionar Time"}),(0,r.jsx)(m.P,{value:f,onChange:e=>R(e.target.value),options:[{value:"",label:"Selecionar uma equipe"},...K.map(e=>({value:e.id,label:"".concat(e.name," (").concat(e.athleteCount," atletas)")}))],disabled:(null==t?void 0:t.role)==="COACH"})]}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsx)(l.z,{onClick:H,disabled:!f,children:"Adicionar Atleta"})})]})})}),k&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-800",children:k})}),(0,r.jsx)(i.Z,{children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Atletas (",j.length,")"]}),0===j.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,r.jsx)("p",{className:"text-gray-600 text-lg",children:"Nenhum atleta neste time"}),(0,r.jsx)(l.z,{variant:"secondary",className:"mt-4",onClick:H,disabled:!f,children:"Adicionar Primeiro Atleta"})]}):(0,r.jsx)(c.w,{data:j,columns:[{key:"jerseyNumber",header:"N\xfamero",sortable:!0,render:e=>(0,r.jsxs)("span",{className:"font-bold text-lg text-blue-600",children:["#",e]})},{key:"name",header:"Nome",sortable:!0,render:e=>(0,r.jsx)("span",{className:"font-medium text-gray-900",children:e})},{key:"position",header:"Posi\xe7\xe3o",sortable:!0,render:e=>(0,r.jsx)("span",{className:"text-gray-700",children:{SETTER:"Levantador",OUTSIDE_HITTER:"Ponta",OPPOSITE:"Oposto",MIDDLE_BLOCKER:"Central",LIBERO:"L\xedbero"}[e]||e.replace(/_/g," ")})},{key:"isActive",header:"Status",sortable:!0,render:e=>(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e?"Ativo":"Inativo"})},{key:"id",header:"A\xe7\xf5es",render:(e,t)=>(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)(l.z,{variant:"secondary",size:"sm",onClick:e=>{e.stopPropagation(),J(t)},children:"Editar"})})}]})]})}),(0,r.jsx)(d.u,{isOpen:S,onClose:()=>P(!1),title:"Adicionar Novo Atleta",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome *"}),(0,r.jsx)(u.I,{type:"text",value:O.name,onChange:e=>z({...O,name:e.target.value}),placeholder:"Nome do atleta",disabled:D})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero da Camisa *"}),(0,r.jsx)(u.I,{type:"number",value:O.jerseyNumber,onChange:e=>z({...O,jerseyNumber:e.target.value}),placeholder:"1-99",disabled:D})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posi\xe7\xe3o *"}),(0,r.jsx)(m.P,{value:O.position,onChange:e=>z({...O,position:e.target.value}),options:V,disabled:D})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biografia"}),(0,r.jsx)("textarea",{value:O.bio,onChange:e=>z({...O,bio:e.target.value}),placeholder:"Biografia do atleta",disabled:D,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,r.jsx)(l.z,{variant:"secondary",onClick:()=>P(!1),disabled:D,children:"Cancelar"}),(0,r.jsx)(l.z,{onClick:M,disabled:D||!O.name||!O.jerseyNumber||!O.position,children:D?"Criando...":"Criar Atleta"})]})]})}),(0,r.jsx)(d.u,{isOpen:E,onClose:()=>T(!1),title:"Editar Atleta",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome *"}),(0,r.jsx)(u.I,{type:"text",value:O.name,onChange:e=>z({...O,name:e.target.value}),placeholder:"Nome do atleta",disabled:D})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero da Camisa *"}),(0,r.jsx)(u.I,{type:"number",value:O.jerseyNumber,onChange:e=>z({...O,jerseyNumber:e.target.value}),placeholder:"1-99",disabled:D})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posi\xe7\xe3o *"}),(0,r.jsx)(m.P,{value:O.position,onChange:e=>z({...O,position:e.target.value}),options:V,disabled:D})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biografia"}),(0,r.jsx)("textarea",{value:O.bio,onChange:e=>z({...O,bio:e.target.value}),placeholder:"Biografia do atleta",disabled:D,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,r.jsx)(l.z,{variant:"secondary",onClick:()=>T(!1),disabled:D,children:"Cancelar"}),(0,r.jsx)(l.z,{onClick:_,disabled:D||!O.name||!O.jerseyNumber||!O.position,children:D?"Salvando...":"Salvar Altera\xe7\xf5es"})]})]})})]})]})}},66651:function(e,t,a){"use strict";a.d(t,{z:function(){return n}});var r=a(3827);a(64090);let n=e=>{let{variant:t="primary",size:a="md",fullWidth:n=!1,loading:s=!1,disabled:o,children:l,className:i="",...c}=e;return(0,r.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 touch-manipulation select-none"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(n?"w-full":""," ").concat(i),disabled:o||s,...c,children:[s&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})}},57418:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(3827);a(64090);let n=e=>{let{children:t,title:a,subtitle:n,footer:s,className:o="",padding:l="md",hoverable:i=!1,onClick:c}=e,d={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,r.jsxs)("div",{className:"".concat("bg-white rounded-lg shadow-md border border-gray-200 transition-all"," ").concat(i?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""," ").concat(c?"cursor-pointer touch-manipulation":""," ").concat(o),onClick:()=>{c&&c()},onKeyDown:e=>{c&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),c())},role:c?"button":void 0,tabIndex:c?0:void 0,children:[(a||n)&&(0,r.jsxs)("div",{className:"border-b border-gray-200 ".concat(d[l]," pb-3"),children:[a&&(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a}),n&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:n})]}),(0,r.jsx)("div",{className:d[l],children:t}),s&&(0,r.jsx)("div",{className:"border-t border-gray-200 ".concat(d[l]," pt-3"),children:s})]})}},6145:function(e,t,a){"use strict";a.d(t,{w:function(){return s}});var r=a(3827),n=a(64090);function s(e){let{data:t,columns:a,onRowClick:s,pagination:o=!1,pageSize:l=10,className:i="",emptyMessage:c="No data available"}=e,[d,u]=(0,n.useState)(null),[m,h]=(0,n.useState)(null),[x,g]=(0,n.useState)(1),p=(e,t)=>{t&&(d===e?"asc"===m?h("desc"):"desc"===m&&(h(null),u(null)):(u(e),h("asc")))},b=(0,n.useMemo)(()=>d&&m?[...t].sort((e,t)=>{let a=e[d],r=t[d];if(a===r)return 0;let n=a<r?-1:1;return"asc"===m?n:-n}):t,[t,d,m]),f=(0,n.useMemo)(()=>{if(!o)return b;let e=(x-1)*l;return b.slice(e,e+l)},[b,o,x,l]),y=Math.ceil(t.length/l),j=e=>{g(e)},v=e=>d!==e?"⇅":"asc"===m?"↑":"desc"===m?"↓":"⇅";return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden ".concat(i),children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsx)("tr",{children:a.map(e=>(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(e.sortable?"cursor-pointer hover:bg-gray-100":""),style:{width:e.width},onClick:()=>p(e.key,e.sortable),children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{children:e.header}),e.sortable&&(0,r.jsx)("span",{className:"text-gray-400",children:v(e.key)})]})},e.key))})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===f.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:a.length,className:"px-6 py-8 text-center text-sm text-gray-500",children:c})}):f.map((e,t)=>(0,r.jsx)("tr",{className:"".concat(s?"cursor-pointer hover:bg-gray-50":""," transition-colors"),onClick:()=>null==s?void 0:s(e),children:a.map(t=>(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.render?t.render(e[t.key],e):e[t.key]},t.key))},t))})]})}),o&&y>1&&(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(x-1)*l+1," to"," ",Math.min(x*l,t.length)," of ",t.length," results"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>j(x-1),disabled:1===x,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:y},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>j(e),className:"px-3 py-1 text-sm font-medium rounded-md ".concat(x===e?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:e},e)),(0,r.jsx)("button",{onClick:()=>j(x+1),disabled:x===y,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}},32278:function(e,t,a){"use strict";a.d(t,{I:function(){return n}});var r=a(3827);let n=(0,a(64090).forwardRef)((e,t)=>{let{label:a,error:n,helperText:s,fullWidth:o=!1,validationState:l="default",className:i="",id:c,...d}=e,u=c||"input-".concat(Math.random().toString(36).substr(2,9)),m=n?"error":l;return(0,r.jsxs)("div",{className:o?"w-full":"",children:[a&&(0,r.jsx)("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,r.jsx)("input",{ref:t,id:u,className:"".concat("block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400"," ").concat({default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[m]," ").concat(o?"w-full":""," ").concat(i),...d}),n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:n}),s&&!n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s})]})});n.displayName="Input"},70492:function(e,t,a){"use strict";a.d(t,{u:function(){return s}});var r=a(3827),n=a(64090);let s=e=>{let{isOpen:t,onClose:a,title:s,children:o,size:l="md"}=e,i=(0,n.useRef)(null);return((0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&a()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,a]),t)?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:e=>{e.target===e.currentTarget&&a()},role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:(0,r.jsxs)("div",{ref:i,className:"relative w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"}[l]," mx-4 bg-white rounded-lg shadow-xl transform transition-all duration-300 scale-100 opacity-100"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,r.jsx)("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:s}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"p-6",children:o})]})}):null}},79173:function(e,t,a){"use strict";a.d(t,{P:function(){return n}});var r=a(3827);let n=(0,a(64090).forwardRef)((e,t)=>{let{label:a,error:n,helperText:s,fullWidth:o=!1,validationState:l="default",options:i,placeholder:c,className:d="",id:u,...m}=e,h=u||"select-".concat(Math.random().toString(36).substr(2,9)),x=n?"error":l;return(0,r.jsxs)("div",{className:o?"w-full":"",children:[a&&(0,r.jsx)("label",{htmlFor:h,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,r.jsxs)("select",{ref:t,id:h,className:"".concat("block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900"," ").concat({default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[x]," ").concat(o?"w-full":""," ").concat(d),...m,children:[c&&(0,r.jsx)("option",{value:"",disabled:!0,children:c}),i.map(e=>(0,r.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:n}),s&&!n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s})]})});n.displayName="Select"},37269:function(e,t,a){"use strict";a.d(t,{a:function(){return o}});var r=a(64090),n=a(47907),s=a(98793);let o=()=>{let e=(0,n.useRouter)(),[t,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),[i,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(()=>{let t=(0,s.hP)(),r=(0,s.PR)();t&&r?(0,s.pw)(t)?((0,s.DH)(),a(null),c(!1),e.push("/login")):(a(r),c(!0)):(a(null),c(!1)),l(!1)})()},[e]),{user:t,isLoading:o,isAuthenticated:i,logout:()=>{(0,s.DH)(),a(null),c(!1),e.push("/login")}}}},14207:function(e,t,a){"use strict";a.d(t,{Cm:function(){return u},LD:function(){return c},P3:function(){return o},VP:function(){return s},Yy:function(){return i},fs:function(){return m},getAllTeams:function(){return d},yw:function(){return l}});var r=a(98793);let n="http://localhost:4000";async function s(e){let t=(0,r.hP)(),a=await fetch("".concat(n,"/api/teams/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team details");return a.json()}async function o(e){let t=(0,r.hP)();console.log("Fetching team statistics for:",e);let a=await fetch("".concat(n,"/api/teams/").concat(e,"/statistics"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch team statistics"}));throw console.error("Team statistics error:",e),Error(e.error||e.message||"Failed to fetch team statistics")}let s=await a.json();return console.log("Team statistics response:",s),s.statistics||s}async function l(e){let t=(0,r.hP)(),a=await fetch("".concat(n,"/api/teams/").concat(e,"/athletes"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team athletes");let s=await a.json();return s.athletes||s}async function i(e,t){let a=(0,r.hP)(),s=new URLSearchParams;s.append("metric","totalPoints"),(null==t?void 0:t.startDate)&&s.append("startDate",t.startDate),(null==t?void 0:t.endDate)&&s.append("endDate",t.endDate),(null==t?void 0:t.opponent)&&s.append("opponentTeamId",t.opponent);let o="".concat(n,"/api/teams/").concat(e,"/rankings?").concat(s.toString());console.log("Fetching team rankings:",o);let l=await fetch(o,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!l.ok){let e=await l.json().catch(()=>({message:"Failed to fetch team rankings"}));throw console.error("Team rankings error:",e),Error(e.error||e.message||"Failed to fetch team rankings")}let i=await l.json();return console.log("Team rankings response:",i),i.rankings||i}async function c(e,t){let a=(0,r.hP)(),s=new URLSearchParams;(null==t?void 0:t.fundamental)||s.append("metric","attackEfficiency"),(null==t?void 0:t.startDate)&&s.append("startDate",t.startDate),(null==t?void 0:t.endDate)&&s.append("endDate",t.endDate),(null==t?void 0:t.opponent)&&s.append("opponentTeamId",t.opponent),(null==t?void 0:t.fundamental)&&s.append("fundamental",t.fundamental);let o="".concat(n,"/api/teams/").concat(e,"/trends").concat(s.toString()?"?".concat(s.toString()):"");console.log("Fetching team trends:",o);let l=await fetch(o,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!l.ok){let e=await l.json().catch(()=>({message:"Failed to fetch team trends"}));throw console.error("Team trends error:",e),Error(e.error||e.message||"Failed to fetch team trends")}let i=await l.json();return console.log("Team trends response:",i),i.trends||i}async function d(){let e=(0,r.hP)(),t=await fetch("".concat(n,"/api/teams"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch teams");return(await t.json()).teams}async function u(e){let t=(0,r.hP)(),a=await fetch("".concat(n,"/api/teams"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok)throw Error("Failed to create team");return(await a.json()).team}async function m(e,t){let a=(0,r.hP)(),s=await fetch("".concat(n,"/api/teams/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!s.ok)throw Error("Failed to update team");return(await s.json()).team}},98793:function(e,t,a){"use strict";a.d(t,{DH:function(){return d},PR:function(){return c},av:function(){return i},hP:function(){return l},pw:function(){return m},vD:function(){return o}});let r="volleyball_access_token",n="volleyball_refresh_token",s="volleyball_user",o=e=>{localStorage.setItem(r,e.accessToken),localStorage.setItem(n,e.refreshToken)},l=()=>localStorage.getItem(r),i=e=>{localStorage.setItem(s,JSON.stringify(e))},c=()=>{let e=localStorage.getItem(s);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},d=()=>{localStorage.removeItem(r),localStorage.removeItem(n),localStorage.removeItem(s)},u=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch(e){return null}},m=e=>{let t=u(e);if(!t||!t.exp)return!0;let a=Date.now()/1e3;return t.exp<a}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=83225)}),_N_E=e.O()}]);