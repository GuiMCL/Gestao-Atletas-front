(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{53050:function(e,t,r){Promise.resolve().then(r.bind(r,69698))},47907:function(e,t,r){"use strict";var a=r(15313);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},69698:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(3827),s=r(64090),l=r(47907),n=r(37269),o=r(66100),i=r(57418),c=r(66651),d=r(32278),u=r(79173);let m=(0,s.forwardRef)((e,t)=>{let{label:r,error:l,helperText:n,fullWidth:o=!1,validationState:i="default",accept:c="image/*",maxSize:d,preview:u=!0,onChange:m,className:h="",id:x,...f}=e,[g,p]=(0,s.useState)(null),[b,j]=(0,s.useState)(null),[y,v]=(0,s.useState)(null),N=x||"fileupload-".concat(Math.random().toString(36).substr(2,9)),w=l||y?"error":i,k=l||y,P=(0,s.useCallback)(e=>{var t;let r=(null===(t=e.target.files)||void 0===t?void 0:t[0])||null;if(v(null),r){if(d&&r.size>d){let e=(d/1048576).toFixed(2);v("File size exceeds ".concat(e,"MB limit")),j(null),p(null),null==m||m(null);return}if(j(r.name),u&&r.type.startsWith("image/")){let e=new FileReader;e.onloadend=()=>{p(e.result)},e.readAsDataURL(r)}else p(null);null==m||m(r)}else j(null),p(null),null==m||m(null)},[d,u,m]),S=(0,s.useCallback)(()=>{j(null),p(null),v(null),null==m||m(null);let e=document.getElementById(N);e&&(e.value="")},[N,m]);return(0,a.jsxs)("div",{className:o?"w-full":"",children:[r&&(0,a.jsx)("label",{htmlFor:N,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,a.jsxs)("div",{className:o?"w-full":"",children:[(0,a.jsx)("input",{ref:t,id:N,type:"file",accept:c,onChange:P,className:"".concat("block w-full text-sm text-gray-900 border rounded-lg cursor-pointer bg-white focus:outline-none transition-colors"," ").concat({default:"border-gray-300 focus:border-blue-500",error:"border-red-500 focus:border-red-500",success:"border-green-500 focus:border-green-500"}[w]," ").concat(h),...f}),b&&(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between p-2 bg-gray-50 rounded-lg border border-gray-200",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 truncate",children:b}),(0,a.jsx)("button",{type:"button",onClick:S,className:"ml-2 text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]}),g&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("img",{src:g,alt:"Preview",className:"max-w-full h-auto max-h-48 rounded-lg border border-gray-200"})})]}),k&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:k}),n&&!k&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});m.displayName="FileUpload";var h=r(54291),x=r(16010);function f(){let e=(0,l.useRouter)(),{user:t,isLoading:r,isAuthenticated:f}=(0,n.a)(),[g,p]=(0,s.useState)(null),[b,j]=(0,s.useState)(null),[y,v]=(0,s.useState)(!0),[N,w]=(0,s.useState)(null),[k,P]=(0,s.useState)(!1),[S,E]=(0,s.useState)(!1),[C,F]=(0,s.useState)(!1),[z,T]=(0,s.useState)({name:"",position:"",jerseyNumber:0,bio:""}),[M,B]=(0,s.useState)(null),[I,L]=(0,s.useState)({});(0,s.useEffect)(()=>{if(!r&&!f){e.push("/login");return}if(t&&"ATHLETE"!==t.role){e.push("/");return}t&&R()},[t,f,r,e]);let R=async()=>{if(t)try{v(!0),w(null);let e=t.id,r=await (0,o.sh)(e);p(r.athlete),j(r.statistics),T({name:r.athlete.name,position:r.athlete.position,jerseyNumber:r.athlete.jerseyNumber,bio:r.athlete.bio||""})}catch(e){console.error("Error loading profile data:",e),w("Falha ao carregar dados do perfil. Tente novamente.")}finally{v(!1)}},A=e=>{let{name:t,value:r}=e.target;T(e=>({...e,[t]:"jerseyNumber"===t?parseInt(r)||0:r})),I[t]&&L(e=>{let r={...e};return delete r[t],r})},O=()=>{let e={};return z.name.trim()||(e.name="Name is required"),z.position||(e.position="Position is required"),(z.jerseyNumber<1||z.jerseyNumber>99)&&(e.jerseyNumber="Jersey number must be between 1 and 99"),L(e),0===Object.keys(e).length},D=async()=>{if(O()&&g)try{E(!0),F(!1),w(null);let e=g.photoUrl;M&&(e=await (0,o.Ef)(g.id,M));let t=await (0,o.$D)(g.id,{name:z.name,position:z.position,jerseyNumber:z.jerseyNumber,bio:z.bio,photoUrl:e});p(t),P(!1),F(!0),B(null),setTimeout(()=>F(!1),3e3)}catch(e){console.error("Error saving profile:",e),w("Falha ao salvar perfil. Tente novamente.")}finally{E(!1)}};return r||y?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando perfil..."})]})}):N&&!g?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)(i.Z,{className:"max-w-md",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-red-600 mb-4",children:N}),(0,a.jsx)(c.z,{onClick:R,children:"Retry"})]})})}):g&&b?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>e.push("/dashboard"),children:"← Voltar para Painel"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Perfil"})]})})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8 pb-20 md:pb-8",children:[C&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-green-800 text-sm font-medium",children:"Profile updated successfully!"})}),N&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-800 text-sm font-medium",children:N})}),(0,a.jsxs)(i.Z,{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Profile Information"}),k?(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>{g&&T({name:g.name,position:g.position,jerseyNumber:g.jerseyNumber,bio:g.bio||""}),B(null),L({}),P(!1)},disabled:S,children:"Cancel"}),(0,a.jsx)(c.z,{size:"sm",onClick:D,disabled:S,children:S?"Saving...":"Save Changes"})]}):(0,a.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>P(!0),children:"Edit Profile"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"md:col-span-1",children:(0,a.jsx)("div",{className:"flex flex-col items-center",children:k?(0,a.jsx)(m,{label:"Profile Photo",accept:"image/*",maxSize:5242880,preview:!0,onChange:B,helperText:"Max size: 5MB. Formats: JPG, PNG"}):(0,a.jsx)(a.Fragment,{children:g.photoUrl?(0,a.jsx)("img",{src:g.photoUrl,alt:g.name,className:"w-32 h-32 rounded-full object-cover border-4 border-blue-100"}):(0,a.jsx)("div",{className:"w-32 h-32 rounded-full bg-blue-100 flex items-center justify-center border-4 border-blue-200",children:(0,a.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:g.name.charAt(0).toUpperCase()})})})})}),(0,a.jsx)("div",{className:"md:col-span-2 space-y-4",children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.I,{label:"Full Name",name:"name",value:z.name,onChange:A,error:I.name,fullWidth:!0,required:!0}),(0,a.jsx)(u.P,{label:"Position",name:"position",value:z.position,onChange:A,options:[{value:"SETTER",label:"Setter"},{value:"OUTSIDE_HITTER",label:"Outside Hitter"},{value:"OPPOSITE",label:"Opposite"},{value:"MIDDLE_BLOCKER",label:"Middle Blocker"},{value:"LIBERO",label:"Libero"}],error:I.position,fullWidth:!0,required:!0}),(0,a.jsx)(d.I,{label:"Jersey Number",name:"jerseyNumber",type:"number",min:"1",max:"99",value:z.jerseyNumber,onChange:A,error:I.jerseyNumber,fullWidth:!0,required:!0}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),(0,a.jsx)("textarea",{name:"bio",value:z.bio,onChange:A,rows:4,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tell us about yourself..."})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Full Name"}),(0,a.jsx)("p",{className:"mt-1 text-lg text-gray-900",children:g.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Position"}),(0,a.jsx)("p",{className:"mt-1 text-lg text-gray-900",children:g.position.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Jersey Number"}),(0,a.jsxs)("p",{className:"mt-1 text-lg text-gray-900",children:["#",g.jerseyNumber]})]}),g.bio&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Bio"}),(0,a.jsx)("p",{className:"mt-1 text-gray-900",children:g.bio})]})]})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Career Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsx)(h.W,{title:"Total Matches",value:b.totalMatches,subtitle:"Career matches played",icon:(0,a.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)(h.W,{title:"Total Sets",value:b.totalSets,subtitle:"Sets played",icon:(0,a.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)(h.W,{title:"Total Points",value:b.totalPoints,subtitle:"".concat(b.averagePointsPerSet.toFixed(1)," per set"),icon:(0,a.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),(0,a.jsxs)(i.Z,{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600 mb-1",children:"Attack Efficiency"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[(100*b.attackEfficiency).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-600 mb-1",children:"Serve Efficiency"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[(100*b.serveEfficiency).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-600 mb-1",children:"Reception Quality"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:b.receptionQuality.toFixed(2)})]}),(0,a.jsxs)("div",{className:"p-4 bg-orange-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-600 mb-1",children:"Block Efficiency"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-orange-900",children:[(100*b.blockEfficiency).toFixed(1),"%"]})]})]}),(0,a.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Errors"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:b.totalErrors})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Points/Set"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:b.averagePointsPerSet.toFixed(1)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Error Rate"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:b.totalSets>0?(b.totalErrors/b.totalSets).toFixed(1):"0.0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Point/Error Ratio"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:b.totalErrors>0?(b.totalPoints/b.totalErrors).toFixed(2):b.totalPoints.toFixed(2)})]})]})})]})]})]}),(0,a.jsx)(x.z,{})]}):null}},66651:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var a=r(3827);r(64090);let s=e=>{let{variant:t="primary",size:r="md",fullWidth:s=!1,loading:l=!1,disabled:n,children:o,className:i="",...c}=e;return(0,a.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 touch-manipulation select-none"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(s?"w-full":""," ").concat(i),disabled:n||l,...c,children:[l&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})}},57418:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(3827);r(64090);let s=e=>{let{children:t,title:r,subtitle:s,footer:l,className:n="",padding:o="md",hoverable:i=!1,onClick:c}=e,d={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,a.jsxs)("div",{className:"".concat("bg-white rounded-lg shadow-md border border-gray-200 transition-all"," ").concat(i?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""," ").concat(c?"cursor-pointer touch-manipulation":""," ").concat(n),onClick:()=>{c&&c()},onKeyDown:e=>{c&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),c())},role:c?"button":void 0,tabIndex:c?0:void 0,children:[(r||s)&&(0,a.jsxs)("div",{className:"border-b border-gray-200 ".concat(d[o]," pb-3"),children:[r&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r}),s&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),(0,a.jsx)("div",{className:d[o],children:t}),l&&(0,a.jsx)("div",{className:"border-t border-gray-200 ".concat(d[o]," pt-3"),children:l})]})}},32278:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var a=r(3827);let s=(0,r(64090).forwardRef)((e,t)=>{let{label:r,error:s,helperText:l,fullWidth:n=!1,validationState:o="default",className:i="",id:c,...d}=e,u=c||"input-".concat(Math.random().toString(36).substr(2,9)),m=s?"error":o;return(0,a.jsxs)("div",{className:n?"w-full":"",children:[r&&(0,a.jsx)("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,a.jsx)("input",{ref:t,id:u,className:"".concat("block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400"," ").concat({default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[m]," ").concat(n?"w-full":""," ").concat(i),...d}),s&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:s}),l&&!s&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:l})]})});s.displayName="Input"},16010:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var a=r(3827);r(64090);var s=r(47907);let l=e=>{let{unreadNotifications:t=0}=e,r=(0,s.useRouter)(),l=(0,s.usePathname)(),n=[{name:"Dashboard",path:"/dashboard",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:"Matches",path:"/matches",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Notifications",path:"/notifications",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),badge:t},{name:"Profile",path:"/profile",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],o=e=>"/dashboard"===e?l===e:null==l?void 0:l.startsWith(e);return(0,a.jsx)("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 safe-area-inset-bottom",children:(0,a.jsx)("div",{className:"flex justify-around items-center h-16",children:n.map(e=>(0,a.jsxs)("button",{onClick:()=>r.push(e.path),className:"flex flex-col items-center justify-center flex-1 h-full relative transition-colors touch-manipulation ".concat(o(e.path)?"text-blue-600":"text-gray-600 active:text-blue-500"),"aria-label":e.name,children:[(0,a.jsxs)("div",{className:"relative",children:[e.icon,e.badge&&e.badge>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center font-bold",children:e.badge>9?"9+":e.badge})]}),(0,a.jsx)("span",{className:"text-xs mt-1 font-medium",children:e.name}),o(e.path)&&(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-blue-600 rounded-t-full"})]},e.path))})})}},79173:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var a=r(3827);let s=(0,r(64090).forwardRef)((e,t)=>{let{label:r,error:s,helperText:l,fullWidth:n=!1,validationState:o="default",options:i,placeholder:c,className:d="",id:u,...m}=e,h=u||"select-".concat(Math.random().toString(36).substr(2,9)),x=s?"error":o;return(0,a.jsxs)("div",{className:n?"w-full":"",children:[r&&(0,a.jsx)("label",{htmlFor:h,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,a.jsxs)("select",{ref:t,id:h,className:"".concat("block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900"," ").concat({default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[x]," ").concat(n?"w-full":""," ").concat(d),...m,children:[c&&(0,a.jsx)("option",{value:"",disabled:!0,children:c}),i.map(e=>(0,a.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),s&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:s}),l&&!s&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:l})]})});s.displayName="Select"},54291:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});var a=r(3827);r(64090);let s=e=>{let{title:t,value:r,trend:s,trendValue:l,icon:n,className:o="",subtitle:i}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 sm:p-6 ".concat(o),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1 truncate",children:t}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 truncate",children:r}),i&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:i}),s&&l&&(0,a.jsxs)("div",{className:"flex items-center mt-2 text-xs sm:text-sm ".concat({up:"text-green-600",down:"text-red-600",neutral:"text-gray-600"}[s]),children:[(0,a.jsx)("span",{className:"mr-1",children:{up:"↑",down:"↓",neutral:"→"}[s]}),(0,a.jsx)("span",{className:"truncate",children:l})]})]}),n&&(0,a.jsx)("div",{className:"flex-shrink-0 ml-2 sm:ml-4 text-gray-400",children:n})]})})}},37269:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var a=r(64090),s=r(47907),l=r(98793);let n=()=>{let e=(0,s.useRouter)(),[t,r]=(0,a.useState)(null),[n,o]=(0,a.useState)(!0),[i,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(()=>{let t=(0,l.hP)(),a=(0,l.PR)();t&&a?(0,l.pw)(t)?((0,l.DH)(),r(null),c(!1),e.push("/login")):(r(a),c(!0)):(r(null),c(!1)),o(!1)})()},[e]),{user:t,isLoading:n,isAuthenticated:i,logout:()=>{(0,l.DH)(),r(null),c(!1),e.push("/login")}}}},66100:function(e,t,r){"use strict";r.d(t,{$D:function(){return c},E2:function(){return h},Ef:function(){return d},Ex:function(){return o},PM:function(){return m},getMyAthleteProfile:function(){return l},sh:function(){return n},uz:function(){return u},yw:function(){return i}});var a=r(98793);let s="http://191.252.184.121:4000";async function l(){let e=(0,a.hP)();console.log("[getMyAthleteProfile] API_BASE_URL:",s),console.log("[getMyAthleteProfile] Fetching:","".concat(s,"/api/athletes/me"));let t=await fetch("".concat(s,"/api/athletes/me"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("[getMyAthleteProfile] Response status:",t.status),!t.ok){let e=await t.json().catch(()=>({message:"Failed to fetch athlete profile"}));throw console.error("[getMyAthleteProfile] Error:",e),Error(e.error||e.message||"Failed to fetch athlete profile")}let r=await t.json();return console.log("[getMyAthleteProfile] Data received:",r),r}async function n(e){let t=(0,a.hP)(),r=await fetch("".concat(s,"/api/athletes/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok)throw Error("Failed to fetch athlete profile");return r.json()}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,l=(0,a.hP)(),n=await fetch("".concat(s,"/api/athletes/").concat(e,"/matches?page=").concat(t,"&pageSize=").concat(r),{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"}});if(!n.ok)throw Error("Failed to fetch athlete matches");return n.json()}async function i(e){let t=(0,a.hP)(),r=await fetch("".concat(s,"/api/matches/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok)throw Error("Failed to fetch match details");return r.json()}async function c(e,t){let r=(0,a.hP)(),l=await fetch("".concat(s,"/api/athletes/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok)throw Error("Failed to update athlete profile");return l.json()}async function d(e,t){let r=(0,a.hP)(),l=new FormData;l.append("photo",t);let n=await fetch("".concat(s,"/api/athletes/").concat(e,"/photo"),{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:l});if(!n.ok)throw Error("Failed to upload photo");return(await n.json()).photoUrl}async function u(e){let t=(0,a.hP)(),r=new URLSearchParams;(null==e?void 0:e.teamId)&&r.append("teamId",e.teamId),(null==e?void 0:e.activeOnly)&&r.append("activeOnly","true"),(null==e?void 0:e.search)&&r.append("search",e.search);let l=await fetch("".concat(s,"/api/athletes?").concat(r.toString()),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!l.ok)throw Error("Failed to fetch athletes");return(await l.json()).athletes}async function m(e){let t=(0,a.hP)(),r=await fetch("".concat(s,"/api/athletes"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json()).error||"Failed to create athlete");return(await r.json()).athlete}async function h(e){let t=(0,a.hP)();if(!(await fetch("".concat(s,"/api/athletes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).ok)throw Error("Failed to deactivate athlete")}},98793:function(e,t,r){"use strict";r.d(t,{DH:function(){return d},PR:function(){return c},av:function(){return i},hP:function(){return o},pw:function(){return m},vD:function(){return n}});let a="volleyball_access_token",s="volleyball_refresh_token",l="volleyball_user",n=e=>{localStorage.setItem(a,e.accessToken),localStorage.setItem(s,e.refreshToken)},o=()=>localStorage.getItem(a),i=e=>{localStorage.setItem(l,JSON.stringify(e))},c=()=>{let e=localStorage.getItem(l);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},d=()=>{localStorage.removeItem(a),localStorage.removeItem(s),localStorage.removeItem(l)},u=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch(e){return null}},m=e=>{let t=u(e);if(!t||!t.exp)return!0;let r=Date.now()/1e3;return t.exp<r}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=53050)}),_N_E=e.O()}]);