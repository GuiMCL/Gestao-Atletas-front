(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{75726:function(e,t,r){Promise.resolve().then(r.bind(r,18362))},18362:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(3827),n=r(64090),s=r(47907),i=r(82670),o=r(66651),c=r(32278),l=r(73884);function d(){var e;let t=(0,s.useRouter)(),[r,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),{register:f,handleSubmit:p,formState:{errors:x}}=(0,i.cI)(),y=async e=>{d(""),h(!1),g(!0);try{await (0,l.gF)(e),h(!0)}catch(e){d(e instanceof Error?e.message:"Falha ao enviar email de redefini\xe7\xe3o de senha. Tente novamente.")}finally{g(!1)}};return u?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verifique seu email"}),(0,a.jsx)("div",{className:"mt-4 bg-green-50 border border-green-400 text-green-700 px-4 py-3 rounded",children:(0,a.jsx)("p",{className:"text-center",children:"Enviamos um email com instru\xe7\xf5es para redefinir sua senha. Por favor, verifique sua caixa de entrada e siga o link fornecido."})})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(o.z,{type:"button",variant:"primary",fullWidth:!0,onClick:()=>t.push("/login"),children:"Voltar para Login"})})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Redefinir sua senha"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Digite seu endere\xe7o de email e enviaremos um link para redefinir sua senha."})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:p(y),children:[r&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,a.jsx)("span",{className:"block sm:inline",children:r})}),(0,a.jsx)("div",{children:(0,a.jsx)(c.I,{label:"Endere\xe7o de email",type:"email",autoComplete:"email",fullWidth:!0,error:null===(e=x.email)||void 0===e?void 0:e.message,...f("email",{required:"Email \xe9 obrigat\xf3rio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Endere\xe7o de email inv\xe1lido"}})})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(o.z,{type:"submit",variant:"primary",fullWidth:!0,loading:m,disabled:m,children:m?"Enviando...":"Enviar link de redefini\xe7\xe3o"}),(0,a.jsx)(o.z,{type:"button",variant:"outline",fullWidth:!0,onClick:()=>t.push("/login"),disabled:m,children:"Voltar para Login"})]})]})]})})}},66651:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var a=r(3827);r(64090);let n=e=>{let{variant:t="primary",size:r="md",fullWidth:n=!1,loading:s=!1,disabled:i,children:o,className:c="",...l}=e;return(0,a.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 touch-manipulation select-none"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(n?"w-full":""," ").concat(c),disabled:i||s,...l,children:[s&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})}},32278:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(3827);let n=(0,r(64090).forwardRef)((e,t)=>{let{label:r,error:n,helperText:s,fullWidth:i=!1,validationState:o="default",className:c="",id:l,...d}=e,u=l||"input-".concat(Math.random().toString(36).substr(2,9)),h=n?"error":o;return(0,a.jsxs)("div",{className:i?"w-full":"",children:[r&&(0,a.jsx)("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,a.jsx)("input",{ref:t,id:u,className:"".concat("block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400"," ").concat({default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[h]," ").concat(i?"w-full":""," ").concat(c),...d}),n&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:n}),s&&!n&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s})]})});n.displayName="Input"},73884:function(e,t,r){"use strict";r.d(t,{LH:function(){return l},a$:function(){return o},c0:function(){return i},checkPasswordChange:function(){return c},gF:function(){return s},x4:function(){return n}});let a="http://191.252.184.121:4000",n=async e=>{let t=await fetch("".concat(a,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Login failed"}))).message||"Invalid credentials");return t.json()},s=async e=>{let t=await fetch("".concat(a,"/api/auth/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Request failed"}))).message||"Failed to send password reset email")},i=async e=>{let t=await fetch("".concat(a,"/api/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Reset failed"}))).message||"Failed to reset password")};async function o(e){let t=await fetch("".concat(a,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to register user");return(await t.json()).user}async function c(e){let t=await fetch("".concat(a,"/api/auth/check-password-change"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Check failed"}))).message||"Failed to check password change requirement");return t.json()}async function l(e,t){let r=await fetch("".concat(a,"/api/auth/change-password-first-login"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({newPassword:t})});if(!r.ok)throw Error((await r.json().catch(()=>({message:"Change failed"}))).message||"Failed to change password");return r.json()}}},function(e){e.O(0,[884,971,69,744],function(){return e(e.s=75726)}),_N_E=e.O()}]);