(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{34286:function(e,t,a){Promise.resolve().then(a.bind(a,45130))},47907:function(e,t,a){"use strict";var r=a(15313);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},45130:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var r=a(3827),n=a(64090),o=a(47907),s=a(37269),i=a(66100),l=a(14207),c=a(73884),d=a(66651),u=a(32278),m=a(79173),h=a(70492),p=a(48584);function f(){let e=(0,o.useRouter)(),{user:t,isLoading:a}=(0,s.a)(),[f,g]=(0,n.useState)([]),[x,y]=(0,n.useState)([]),[b,j]=(0,n.useState)(!0),[w,v]=(0,n.useState)(""),[N,k]=(0,n.useState)(""),[S,P]=(0,n.useState)("all"),[C,T]=(0,n.useState)(!1),[E,I]=(0,n.useState)(!1),[A,O]=(0,n.useState)(null),[F,D]=(0,n.useState)(null),[z,B]=(0,n.useState)({name:"",email:"",username:"",password:"",position:"OUTSIDE_HITTER",jerseyNumber:1,teamId:"",bio:""});(0,n.useEffect)(()=>{if(!a&&!t){e.push("/login");return}if(t&&"ADMIN"!==t.role){e.push("/dashboard");return}t&&R()},[t,a,e]);let R=async()=>{try{j(!0);let[e,t]=await Promise.all([(0,i.uz)({activeOnly:!1}),(0,l.getAllTeams)()]);g(e),y(t)}catch(e){console.error("Failed to load data:",e),D("Failed to load athletes and teams")}finally{j(!1)}},L=async e=>{e.preventDefault(),D(null);try{let e=await (0,c.a$)({username:z.username,email:z.email,password:z.password,role:"ATHLETE"});await (0,i.PM)({userId:e.id,name:z.name,position:z.position,jerseyNumber:z.jerseyNumber,teamId:z.teamId,bio:z.bio}),await R(),T(!1),U()}catch(e){console.error("Failed to create athlete:",e),D(e.message||"Failed to create athlete")}},_=async e=>{if(e.preventDefault(),A){D(null);try{await (0,i.$D)(A.id,{name:z.name,position:z.position,jerseyNumber:z.jerseyNumber,bio:z.bio}),await R(),I(!1),O(null),U()}catch(e){console.error("Failed to update athlete:",e),D(e.message||"Failed to update athlete")}}},M=async e=>{if(confirm("Are you sure you want to deactivate this athlete?"))try{await (0,i.E2)(e),await R()}catch(e){console.error("Failed to deactivate athlete:",e),D("Failed to deactivate athlete")}},J=e=>{O(e),B({name:e.name,email:"",username:"",password:"",position:e.position,jerseyNumber:e.jerseyNumber,teamId:e.teamId,bio:e.bio||""}),I(!0)},U=()=>{B({name:"",email:"",username:"",password:"",position:"OUTSIDE_HITTER",jerseyNumber:1,teamId:"",bio:""})},q=f.filter(e=>{let t=e.name.toLowerCase().includes(w.toLowerCase())||e.jerseyNumber.toString().includes(w),a=!N||e.teamId===N,r="all"===S||"active"===S&&e.isActive||"inactive"===S&&!e.isActive;return t&&a&&r});return a||b?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Athlete Management"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage athlete profiles and credentials"})]}),F&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-800",children:F})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)(u.I,{type:"text",placeholder:"Search by name or number...",value:w,onChange:e=>v(e.target.value)})}),(0,r.jsx)("div",{children:(0,r.jsx)(m.P,{value:N,onChange:e=>k(e.target.value),options:[{value:"",label:"All Teams"},...x.map(e=>({value:e.id,label:e.name}))]})}),(0,r.jsx)("div",{children:(0,r.jsx)(m.P,{value:S,onChange:e=>P(e.target.value),options:[{value:"all",label:"All Status"},{value:"active",label:"Active Only"},{value:"inactive",label:"Inactive Only"}]})}),(0,r.jsx)("div",{children:(0,r.jsx)(d.z,{onClick:()=>{U(),T(!0)},className:"w-full",children:"Create Athlete"})})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jersey #"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(e=>{var t;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.jerseyNumber})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.position.replace(/_/g," ")})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:(null===(t=x.find(t=>t.id===e.teamId))||void 0===t?void 0:t.name)||"Unknown"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)(p.C,{variant:e.isActive?"success":"default",children:e.isActive?"Active":"Inactive"})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,r.jsx)("button",{onClick:()=>J(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),e.isActive&&(0,r.jsx)("button",{onClick:()=>M(e.id),className:"text-red-600 hover:text-red-900",children:"Deactivate"})]})]},e.id)})})]}),0===q.length&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No athletes found"})})]}),(0,r.jsx)(h.u,{isOpen:C,onClose:()=>{T(!1),U(),D(null)},title:"Create New Athlete",children:(0,r.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,r.jsx)(u.I,{type:"text",required:!0,value:z.name,onChange:e=>B({...z,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,r.jsx)(u.I,{type:"text",required:!0,value:z.username,onChange:e=>B({...z,username:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)(u.I,{type:"email",required:!0,value:z.email,onChange:e=>B({...z,email:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsx)(u.I,{type:"password",required:!0,value:z.password,onChange:e=>B({...z,password:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),(0,r.jsx)(m.P,{required:!0,value:z.teamId,onChange:e=>B({...z,teamId:e.target.value}),options:[{value:"",label:"Select a team"},...x.map(e=>({value:e.id,label:e.name}))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,r.jsx)(m.P,{required:!0,value:z.position,onChange:e=>B({...z,position:e.target.value}),options:[{value:"SETTER",label:"Setter"},{value:"OUTSIDE_HITTER",label:"Outside Hitter"},{value:"OPPOSITE",label:"Opposite"},{value:"MIDDLE_BLOCKER",label:"Middle Blocker"},{value:"LIBERO",label:"Libero"}]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jersey Number"}),(0,r.jsx)(u.I,{type:"number",required:!0,min:"0",max:"99",value:z.jerseyNumber,onChange:e=>B({...z,jerseyNumber:parseInt(e.target.value)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio (Optional)"}),(0,r.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,value:z.bio,onChange:e=>B({...z,bio:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)(d.z,{type:"button",variant:"secondary",onClick:()=>{T(!1),U(),D(null)},children:"Cancel"}),(0,r.jsx)(d.z,{type:"submit",children:"Create Athlete"})]})]})}),(0,r.jsx)(h.u,{isOpen:E,onClose:()=>{I(!1),O(null),U(),D(null)},title:"Edit Athlete",children:(0,r.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,r.jsx)(u.I,{type:"text",required:!0,value:z.name,onChange:e=>B({...z,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,r.jsx)(m.P,{required:!0,value:z.position,onChange:e=>B({...z,position:e.target.value}),options:[{value:"SETTER",label:"Setter"},{value:"OUTSIDE_HITTER",label:"Outside Hitter"},{value:"OPPOSITE",label:"Opposite"},{value:"MIDDLE_BLOCKER",label:"Middle Blocker"},{value:"LIBERO",label:"Libero"}]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jersey Number"}),(0,r.jsx)(u.I,{type:"number",required:!0,min:"0",max:"99",value:z.jerseyNumber,onChange:e=>B({...z,jerseyNumber:parseInt(e.target.value)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio (Optional)"}),(0,r.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,value:z.bio,onChange:e=>B({...z,bio:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)(d.z,{type:"button",variant:"secondary",onClick:()=>{I(!1),O(null),U(),D(null)},children:"Cancel"}),(0,r.jsx)(d.z,{type:"submit",children:"Save Changes"})]})]})})]})})}},48584:function(e,t,a){"use strict";a.d(t,{C:function(){return n}});var r=a(3827);a(64090);let n=e=>{let{children:t,variant:a="default",size:n="md",className:o=""}=e;return(0,r.jsx)("span",{className:"inline-flex items-center font-medium rounded-full ".concat({default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[a]," ").concat({sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"}[n]," ").concat(o),children:t})}},66651:function(e,t,a){"use strict";a.d(t,{z:function(){return n}});var r=a(3827);a(64090);let n=e=>{let{variant:t="primary",size:a="md",fullWidth:n=!1,loading:o=!1,disabled:s,children:i,className:l="",...c}=e;return(0,r.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 touch-manipulation select-none"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(n?"w-full":""," ").concat(l),disabled:s||o,...c,children:[o&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})}},32278:function(e,t,a){"use strict";a.d(t,{I:function(){return n}});var r=a(3827);let n=(0,a(64090).forwardRef)((e,t)=>{let{label:a,error:n,helperText:o,fullWidth:s=!1,validationState:i="default",className:l="",id:c,...d}=e,u=c||"input-".concat(Math.random().toString(36).substr(2,9)),m=n?"error":i;return(0,r.jsxs)("div",{className:s?"w-full":"",children:[a&&(0,r.jsx)("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,r.jsx)("input",{ref:t,id:u,className:"".concat("block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400"," ").concat({default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[m]," ").concat(s?"w-full":""," ").concat(l),...d}),n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:n}),o&&!n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:o})]})});n.displayName="Input"},70492:function(e,t,a){"use strict";a.d(t,{u:function(){return o}});var r=a(3827),n=a(64090);let o=e=>{let{isOpen:t,onClose:a,title:o,children:s,size:i="md"}=e,l=(0,n.useRef)(null);return((0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&a()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,a]),t)?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:e=>{e.target===e.currentTarget&&a()},role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:(0,r.jsxs)("div",{ref:l,className:"relative w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"}[i]," mx-4 bg-white rounded-lg shadow-xl transform transition-all duration-300 scale-100 opacity-100"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,r.jsx)("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:o}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"p-6",children:s})]})}):null}},79173:function(e,t,a){"use strict";a.d(t,{P:function(){return n}});var r=a(3827);let n=(0,a(64090).forwardRef)((e,t)=>{let{label:a,error:n,helperText:o,fullWidth:s=!1,validationState:i="default",options:l,placeholder:c,className:d="",id:u,...m}=e,h=u||"select-".concat(Math.random().toString(36).substr(2,9)),p=n?"error":i;return(0,r.jsxs)("div",{className:s?"w-full":"",children:[a&&(0,r.jsx)("label",{htmlFor:h,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,r.jsxs)("select",{ref:t,id:h,className:"".concat("block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900"," ").concat({default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[p]," ").concat(s?"w-full":""," ").concat(d),...m,children:[c&&(0,r.jsx)("option",{value:"",disabled:!0,children:c}),l.map(e=>(0,r.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:n}),o&&!n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:o})]})});n.displayName="Select"},37269:function(e,t,a){"use strict";a.d(t,{a:function(){return s}});var r=a(64090),n=a(47907),o=a(98793);let s=()=>{let e=(0,n.useRouter)(),[t,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(()=>{let t=(0,o.hP)(),r=(0,o.PR)();t&&r?(0,o.pw)(t)?((0,o.DH)(),a(null),c(!1),e.push("/login")):(a(r),c(!0)):(a(null),c(!1)),i(!1)})()},[e]),{user:t,isLoading:s,isAuthenticated:l,logout:()=>{(0,o.DH)(),a(null),c(!1),e.push("/login")}}}},66100:function(e,t,a){"use strict";a.d(t,{$D:function(){return c},E2:function(){return h},Ef:function(){return d},Ex:function(){return i},PM:function(){return m},getMyAthleteProfile:function(){return o},sh:function(){return s},uz:function(){return u},yw:function(){return l}});var r=a(98793);let n="http://191.252.184.121:4000";async function o(){let e=(0,r.hP)();console.log("[getMyAthleteProfile] API_BASE_URL:",n),console.log("[getMyAthleteProfile] Fetching:","".concat(n,"/api/athletes/me"));let t=await fetch("".concat(n,"/api/athletes/me"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("[getMyAthleteProfile] Response status:",t.status),!t.ok){let e=await t.json().catch(()=>({message:"Failed to fetch athlete profile"}));throw console.error("[getMyAthleteProfile] Error:",e),Error(e.error||e.message||"Failed to fetch athlete profile")}let a=await t.json();return console.log("[getMyAthleteProfile] Data received:",a),a}async function s(e){let t=(0,r.hP)(),a=await fetch("".concat(n,"/api/athletes/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch athlete profile");return a.json()}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=(0,r.hP)(),s=await fetch("".concat(n,"/api/athletes/").concat(e,"/matches?page=").concat(t,"&pageSize=").concat(a),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!s.ok)throw Error("Failed to fetch athlete matches");return s.json()}async function l(e){let t=(0,r.hP)(),a=await fetch("".concat(n,"/api/matches/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch match details");return a.json()}async function c(e,t){let a=(0,r.hP)(),o=await fetch("".concat(n,"/api/athletes/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok)throw Error("Failed to update athlete profile");return o.json()}async function d(e,t){let a=(0,r.hP)(),o=new FormData;o.append("photo",t);let s=await fetch("".concat(n,"/api/athletes/").concat(e,"/photo"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:o});if(!s.ok)throw Error("Failed to upload photo");return(await s.json()).photoUrl}async function u(e){let t=(0,r.hP)(),a=new URLSearchParams;(null==e?void 0:e.teamId)&&a.append("teamId",e.teamId),(null==e?void 0:e.activeOnly)&&a.append("activeOnly","true"),(null==e?void 0:e.search)&&a.append("search",e.search);let o=await fetch("".concat(n,"/api/athletes?").concat(a.toString()),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!o.ok)throw Error("Failed to fetch athletes");return(await o.json()).athletes}async function m(e){let t=(0,r.hP)(),a=await fetch("".concat(n,"/api/athletes"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).error||"Failed to create athlete");return(await a.json()).athlete}async function h(e){let t=(0,r.hP)();if(!(await fetch("".concat(n,"/api/athletes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).ok)throw Error("Failed to deactivate athlete")}},73884:function(e,t,a){"use strict";a.d(t,{LH:function(){return c},a$:function(){return i},c0:function(){return s},checkPasswordChange:function(){return l},gF:function(){return o},x4:function(){return n}});let r="http://191.252.184.121:4000",n=async e=>{let t=await fetch("".concat(r,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Login failed"}))).message||"Invalid credentials");return t.json()},o=async e=>{let t=await fetch("".concat(r,"/api/auth/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Request failed"}))).message||"Failed to send password reset email")},s=async e=>{let t=await fetch("".concat(r,"/api/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Reset failed"}))).message||"Failed to reset password")};async function i(e){let t=await fetch("".concat(r,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to register user");return(await t.json()).user}async function l(e){let t=await fetch("".concat(r,"/api/auth/check-password-change"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Check failed"}))).message||"Failed to check password change requirement");return t.json()}async function c(e,t){let a=await fetch("".concat(r,"/api/auth/change-password-first-login"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({newPassword:t})});if(!a.ok)throw Error((await a.json().catch(()=>({message:"Change failed"}))).message||"Failed to change password");return a.json()}},14207:function(e,t,a){"use strict";a.d(t,{Cm:function(){return u},LD:function(){return c},P3:function(){return s},VP:function(){return o},Yy:function(){return l},fs:function(){return m},getAllTeams:function(){return d},yw:function(){return i}});var r=a(98793);let n="http://191.252.184.121:4000";async function o(e){let t=(0,r.hP)(),a=await fetch("".concat(n,"/api/teams/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team details");return a.json()}async function s(e){let t=(0,r.hP)();console.log("Fetching team statistics for:",e);let a=await fetch("".concat(n,"/api/teams/").concat(e,"/statistics"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch team statistics"}));throw console.error("Team statistics error:",e),Error(e.error||e.message||"Failed to fetch team statistics")}let o=await a.json();return console.log("Team statistics response:",o),o.statistics||o}async function i(e){let t=(0,r.hP)(),a=await fetch("".concat(n,"/api/teams/").concat(e,"/athletes"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team athletes");let o=await a.json();return o.athletes||o}async function l(e,t){let a=(0,r.hP)(),o=new URLSearchParams;o.append("metric","totalPoints"),(null==t?void 0:t.startDate)&&o.append("startDate",t.startDate),(null==t?void 0:t.endDate)&&o.append("endDate",t.endDate),(null==t?void 0:t.opponent)&&o.append("opponentTeamId",t.opponent);let s="".concat(n,"/api/teams/").concat(e,"/rankings?").concat(o.toString());console.log("Fetching team rankings:",s);let i=await fetch(s,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!i.ok){let e=await i.json().catch(()=>({message:"Failed to fetch team rankings"}));throw console.error("Team rankings error:",e),Error(e.error||e.message||"Failed to fetch team rankings")}let l=await i.json();return console.log("Team rankings response:",l),l.rankings||l}async function c(e,t){let a=(0,r.hP)(),o=new URLSearchParams;(null==t?void 0:t.fundamental)||o.append("metric","attackEfficiency"),(null==t?void 0:t.startDate)&&o.append("startDate",t.startDate),(null==t?void 0:t.endDate)&&o.append("endDate",t.endDate),(null==t?void 0:t.opponent)&&o.append("opponentTeamId",t.opponent),(null==t?void 0:t.fundamental)&&o.append("fundamental",t.fundamental);let s="".concat(n,"/api/teams/").concat(e,"/trends").concat(o.toString()?"?".concat(o.toString()):"");console.log("Fetching team trends:",s);let i=await fetch(s,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!i.ok){let e=await i.json().catch(()=>({message:"Failed to fetch team trends"}));throw console.error("Team trends error:",e),Error(e.error||e.message||"Failed to fetch team trends")}let l=await i.json();return console.log("Team trends response:",l),l.trends||l}async function d(){let e=(0,r.hP)(),t=await fetch("".concat(n,"/api/teams"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch teams");return(await t.json()).teams}async function u(e){let t=(0,r.hP)(),a=await fetch("".concat(n,"/api/teams"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok)throw Error("Failed to create team");return(await a.json()).team}async function m(e,t){let a=(0,r.hP)(),o=await fetch("".concat(n,"/api/teams/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!o.ok)throw Error("Failed to update team");return(await o.json()).team}},98793:function(e,t,a){"use strict";a.d(t,{DH:function(){return d},PR:function(){return c},av:function(){return l},hP:function(){return i},pw:function(){return m},vD:function(){return s}});let r="volleyball_access_token",n="volleyball_refresh_token",o="volleyball_user",s=e=>{localStorage.setItem(r,e.accessToken),localStorage.setItem(n,e.refreshToken)},i=()=>localStorage.getItem(r),l=e=>{localStorage.setItem(o,JSON.stringify(e))},c=()=>{let e=localStorage.getItem(o);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},d=()=>{localStorage.removeItem(r),localStorage.removeItem(n),localStorage.removeItem(o)},u=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch(e){return null}},m=e=>{let t=u(e);if(!t||!t.exp)return!0;let a=Date.now()/1e3;return t.exp<a}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=34286)}),_N_E=e.O()}]);