(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{50034:function(e,t,a){Promise.resolve().then(a.bind(a,67736))},47907:function(e,t,a){"use strict";var n=a(15313);a.o(n,"useParams")&&a.d(t,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},67736:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var n=a(3827),s=a(64090),r=a(47907),o=a(37269),i=a(66100),l=a(37130),c=a(54291),d=a(57418),h=a(66651),u=a(48584),m=a(16010);function x(){var e;let t=(0,r.useRouter)(),{user:x,isLoading:f,isAuthenticated:p,logout:g}=(0,o.a)(),[v,j]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[w,N]=(0,s.useState)([]),[k,P]=(0,s.useState)(0),[E,C]=(0,s.useState)(!0),[S,A]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!f&&!p){t.push("/login");return}if(x&&"ATHLETE"!==x.role){"ADMIN"===x.role?t.push("/admin/dashboard"):"COACH"===x.role?t.push("/coach/dashboard"):t.push("/");return}x&&z()},[x,p,f,t]);let z=async()=>{if(x)try{if(C(!0),A(null),"ATHLETE"===x.role){let{getMyAthleteProfile:e}=await Promise.resolve().then(a.bind(a,66100)),t=await e();if(console.log("Profile data received:",t),console.log("Athlete data:",null==t?void 0:t.athlete),console.log("Statistics data:",null==t?void 0:t.statistics),!t)throw Error("No profile data received from server");if(!t.athlete)throw Error("Athlete data is missing from profile response");if(!t.athlete.name)throw Error("Athlete name is missing from profile data");j(t.athlete),y(t.statistics);let n=await (0,i.Ex)(t.athlete.id,1,5);N(n.matches)}try{let e=await (0,l.tn)();P(e)}catch(e){console.error("Error loading notification count:",e)}}catch(t){console.error("Error loading dashboard data:",t);let e=t instanceof Error?t.message:"Falha ao carregar dados do painel";A("".concat(e,". Tente novamente ou entre em contato com o suporte se o problema persistir."))}finally{C(!1)}},L=e=>e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ");return f||E?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando painel..."})]})}):S?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsx)(d.Z,{className:"max-w-md",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-red-600 mb-4",children:S}),(0,n.jsx)(h.z,{onClick:z,children:"Tentar novamente"})]})})}):v&&b&&v.name?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-3 sm:py-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 truncate",children:"Painel do Atleta"}),(0,n.jsxs)("div",{className:"flex space-x-1 sm:space-x-2",children:[(0,n.jsxs)(h.z,{variant:"outline",size:"sm",onClick:()=>t.push("/notifications"),className:"relative px-2 sm:px-3","aria-label":"Notifications",children:[(0,n.jsx)("svg",{className:"w-5 h-5 sm:mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Notifica\xe7\xf5es"}),k>0&&(0,n.jsx)(u.C,{variant:"info",className:"ml-0 sm:ml-2 absolute -top-1 -right-1 sm:relative sm:top-0 sm:right-0 min-w-[20px] h-5 flex items-center justify-center text-xs px-1",children:k})]}),(0,n.jsx)(h.z,{variant:"outline",size:"sm",onClick:()=>t.push("/profile"),className:"hidden sm:inline-flex",children:"Meu Perfil"}),(0,n.jsx)(h.z,{variant:"outline",size:"sm",onClick:()=>t.push("/profile"),className:"sm:hidden px-2","aria-label":"Profile",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,n.jsx)(h.z,{variant:"outline",size:"sm",onClick:g,className:"hidden md:inline-flex",children:"Sair"})]})]})})}),(0,n.jsxs)("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8 pb-20 md:pb-8",children:[(0,n.jsx)(d.Z,{className:"mb-4 sm:mb-6 lg:mb-8",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(null==v?void 0:v.photoUrl)?(0,n.jsx)("img",{src:v.photoUrl,alt:v.name||"Athlete",className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full object-cover border-4 border-blue-100"}):(0,n.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full bg-blue-100 flex items-center justify-center border-4 border-blue-200",children:(0,n.jsx)("span",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:(null==v?void 0:null===(e=v.name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"A"})})}),(0,n.jsxs)("div",{className:"flex-1 text-center sm:text-left w-full",children:[(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:(null==v?void 0:v.name)||"Unknown Athlete"}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4 text-sm text-gray-600",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Posi\xe7\xe3o:"})," ",(null==v?void 0:v.position)?v.position.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):"N/A"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Camisa:"})," #",(null==v?void 0:v.jerseyNumber)||"N/A"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Total de Partidas:"})," ",(null==b?void 0:b.totalMatches)||0]})]}),(null==v?void 0:v.bio)&&(0,n.jsx)("p",{className:"mt-3 text-sm sm:text-base text-gray-700",children:v.bio})]})]})}),(0,n.jsxs)("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:[(0,n.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4 px-1",children:"Estat\xedsticas de Desempenho"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,n.jsx)(c.W,{title:"Efici\xeancia de Ataque",value:"".concat((100*b.attackEfficiency).toFixed(1),"%"),subtitle:"".concat(b.totalPoints," pontos totais"),icon:(0,n.jsx)("svg",{className:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,n.jsx)(c.W,{title:"Efici\xeancia de Saque",value:"".concat((100*b.serveEfficiency).toFixed(1),"%"),subtitle:"Aces e pontos",icon:(0,n.jsx)("svg",{className:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,n.jsx)(c.W,{title:"Qualidade de Recep\xe7\xe3o",value:b.receptionQuality.toFixed(2),subtitle:"M\xe9dia de notas",icon:(0,n.jsx)("svg",{className:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})})}),(0,n.jsx)(c.W,{title:"Efici\xeancia de Bloqueio",value:"".concat((100*b.blockEfficiency).toFixed(1),"%"),subtitle:"Bloqueios bem-sucedidos",icon:(0,n.jsx)("svg",{className:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mt-3 sm:mt-4",children:[(0,n.jsx)(c.W,{title:"Total de Sets Jogados",value:b.totalSets}),(0,n.jsx)(c.W,{title:"M\xe9dia de Pontos/Set",value:b.averagePointsPerSet.toFixed(1)}),(0,n.jsx)(c.W,{title:"Total de Erros",value:b.totalErrors})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-3 sm:mb-4 px-1",children:[(0,n.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Partidas Recentes"}),(0,n.jsx)(h.z,{variant:"outline",size:"sm",onClick:()=>t.push("/matches"),className:"text-xs sm:text-sm",children:"Ver Tudo"})]}),0===w.length?(0,n.jsx)(d.Z,{children:(0,n.jsx)("p",{className:"text-center text-gray-600 py-6 sm:py-8 text-sm sm:text-base",children:"Nenhuma partida encontrada"})}):(0,n.jsx)("div",{className:"space-y-2 sm:space-y-3",children:w.map(e=>{var a,s;return(0,n.jsx)(d.Z,{hoverable:!0,onClick:()=>t.push("/matches/".concat(e.id)),className:"cursor-pointer active:scale-[0.98] transition-transform",padding:"sm",children:(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4",children:[(0,n.jsxs)("div",{className:"text-sm sm:text-base font-medium text-gray-900 truncate",children:[(null===(a=e.homeTeam)||void 0===a?void 0:a.name)||"Desconhecido"," vs ",(null===(s=e.awayTeam)||void 0===s?void 0:s.name)||"Desconhecido"]}),(0,n.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full inline-block w-fit ".concat("FINALIZED"===e.status?"bg-green-100 text-green-800":"IN_PROGRESS"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:L(e.status)})]}),(0,n.jsxs)("div",{className:"mt-1 text-xs sm:text-sm text-gray-600 truncate",children:[new Date(e.date).toLocaleDateString("pt-BR")," • ",e.location||"A definir"]}),e.finalScore&&(0,n.jsxs)("div",{className:"mt-1 text-xs sm:text-sm font-medium text-gray-700",children:["Placar: ",e.finalScore]})]}),(0,n.jsx)("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},e.id)})})]})]}),(0,n.jsx)(m.z,{unreadNotifications:k})]}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando perfil do atleta..."})]})})}},48584:function(e,t,a){"use strict";a.d(t,{C:function(){return s}});var n=a(3827);a(64090);let s=e=>{let{children:t,variant:a="default",size:s="md",className:r=""}=e;return(0,n.jsx)("span",{className:"inline-flex items-center font-medium rounded-full ".concat({default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[a]," ").concat({sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"}[s]," ").concat(r),children:t})}},66651:function(e,t,a){"use strict";a.d(t,{z:function(){return s}});var n=a(3827);a(64090);let s=e=>{let{variant:t="primary",size:a="md",fullWidth:s=!1,loading:r=!1,disabled:o,children:i,className:l="",...c}=e;return(0,n.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 touch-manipulation select-none"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(s?"w-full":""," ").concat(l),disabled:o||r,...c,children:[r&&(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})}},57418:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(3827);a(64090);let s=e=>{let{children:t,title:a,subtitle:s,footer:r,className:o="",padding:i="md",hoverable:l=!1,onClick:c}=e,d={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,n.jsxs)("div",{className:"".concat("bg-white rounded-lg shadow-md border border-gray-200 transition-all"," ").concat(l?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""," ").concat(c?"cursor-pointer touch-manipulation":""," ").concat(o),onClick:()=>{c&&c()},onKeyDown:e=>{c&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),c())},role:c?"button":void 0,tabIndex:c?0:void 0,children:[(a||s)&&(0,n.jsxs)("div",{className:"border-b border-gray-200 ".concat(d[i]," pb-3"),children:[a&&(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a}),s&&(0,n.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),(0,n.jsx)("div",{className:d[i],children:t}),r&&(0,n.jsx)("div",{className:"border-t border-gray-200 ".concat(d[i]," pt-3"),children:r})]})}},16010:function(e,t,a){"use strict";a.d(t,{z:function(){return r}});var n=a(3827);a(64090);var s=a(47907);let r=e=>{let{unreadNotifications:t=0}=e,a=(0,s.useRouter)(),r=(0,s.usePathname)(),o=[{name:"Dashboard",path:"/dashboard",icon:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:"Matches",path:"/matches",icon:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Notifications",path:"/notifications",icon:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),badge:t},{name:"Profile",path:"/profile",icon:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],i=e=>"/dashboard"===e?r===e:null==r?void 0:r.startsWith(e);return(0,n.jsx)("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 safe-area-inset-bottom",children:(0,n.jsx)("div",{className:"flex justify-around items-center h-16",children:o.map(e=>(0,n.jsxs)("button",{onClick:()=>a.push(e.path),className:"flex flex-col items-center justify-center flex-1 h-full relative transition-colors touch-manipulation ".concat(i(e.path)?"text-blue-600":"text-gray-600 active:text-blue-500"),"aria-label":e.name,children:[(0,n.jsxs)("div",{className:"relative",children:[e.icon,e.badge&&e.badge>0&&(0,n.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center font-bold",children:e.badge>9?"9+":e.badge})]}),(0,n.jsx)("span",{className:"text-xs mt-1 font-medium",children:e.name}),i(e.path)&&(0,n.jsx)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-blue-600 rounded-t-full"})]},e.path))})})}},54291:function(e,t,a){"use strict";a.d(t,{W:function(){return s}});var n=a(3827);a(64090);let s=e=>{let{title:t,value:a,trend:s,trendValue:r,icon:o,className:i="",subtitle:l}=e;return(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 sm:p-6 ".concat(i),children:(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1 truncate",children:t}),(0,n.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 truncate",children:a}),l&&(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:l}),s&&r&&(0,n.jsxs)("div",{className:"flex items-center mt-2 text-xs sm:text-sm ".concat({up:"text-green-600",down:"text-red-600",neutral:"text-gray-600"}[s]),children:[(0,n.jsx)("span",{className:"mr-1",children:{up:"↑",down:"↓",neutral:"→"}[s]}),(0,n.jsx)("span",{className:"truncate",children:r})]})]}),o&&(0,n.jsx)("div",{className:"flex-shrink-0 ml-2 sm:ml-4 text-gray-400",children:o})]})})}},37269:function(e,t,a){"use strict";a.d(t,{a:function(){return o}});var n=a(64090),s=a(47907),r=a(98793);let o=()=>{let e=(0,s.useRouter)(),[t,a]=(0,n.useState)(null),[o,i]=(0,n.useState)(!0),[l,c]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{(()=>{let t=(0,r.hP)(),n=(0,r.PR)();t&&n?(0,r.pw)(t)?((0,r.DH)(),a(null),c(!1),e.push("/login")):(a(n),c(!0)):(a(null),c(!1)),i(!1)})()},[e]),{user:t,isLoading:o,isAuthenticated:l,logout:()=>{(0,r.DH)(),a(null),c(!1),e.push("/login")}}}},66100:function(e,t,a){"use strict";a.d(t,{$D:function(){return c},E2:function(){return m},Ef:function(){return d},Ex:function(){return i},PM:function(){return u},getMyAthleteProfile:function(){return r},sh:function(){return o},uz:function(){return h},yw:function(){return l}});var n=a(98793);let s="http://localhost:4000";async function r(){let e=(0,n.hP)();console.log("[getMyAthleteProfile] API_BASE_URL:",s),console.log("[getMyAthleteProfile] Fetching:","".concat(s,"/api/athletes/me"));let t=await fetch("".concat(s,"/api/athletes/me"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("[getMyAthleteProfile] Response status:",t.status),!t.ok){let e=await t.json().catch(()=>({message:"Failed to fetch athlete profile"}));throw console.error("[getMyAthleteProfile] Error:",e),Error(e.error||e.message||"Failed to fetch athlete profile")}let a=await t.json();return console.log("[getMyAthleteProfile] Data received:",a),a}async function o(e){let t=(0,n.hP)(),a=await fetch("".concat(s,"/api/athletes/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch athlete profile");return a.json()}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=(0,n.hP)(),o=await fetch("".concat(s,"/api/athletes/").concat(e,"/matches?page=").concat(t,"&pageSize=").concat(a),{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!o.ok)throw Error("Failed to fetch athlete matches");return o.json()}async function l(e){let t=(0,n.hP)(),a=await fetch("".concat(s,"/api/matches/").concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch match details");return a.json()}async function c(e,t){let a=(0,n.hP)(),r=await fetch("".concat(s,"/api/athletes/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to update athlete profile");return r.json()}async function d(e,t){let a=(0,n.hP)(),r=new FormData;r.append("photo",t);let o=await fetch("".concat(s,"/api/athletes/").concat(e,"/photo"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:r});if(!o.ok)throw Error("Failed to upload photo");return(await o.json()).photoUrl}async function h(e){let t=(0,n.hP)(),a=new URLSearchParams;(null==e?void 0:e.teamId)&&a.append("teamId",e.teamId),(null==e?void 0:e.activeOnly)&&a.append("activeOnly","true"),(null==e?void 0:e.search)&&a.append("search",e.search);let r=await fetch("".concat(s,"/api/athletes?").concat(a.toString()),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!r.ok)throw Error("Failed to fetch athletes");return(await r.json()).athletes}async function u(e){let t=(0,n.hP)(),a=await fetch("".concat(s,"/api/athletes"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).error||"Failed to create athlete");return(await a.json()).athlete}async function m(e){let t=(0,n.hP)();if(!(await fetch("".concat(s,"/api/athletes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).ok)throw Error("Failed to deactivate athlete")}},37130:function(e,t,a){"use strict";a.d(t,{Go:function(){return o},gG:function(){return r},no:function(){return i},tn:function(){return l}});var n=a(98793);let s="http://localhost:4000";async function r(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(0,n.hP)();if(!a)throw Error("No authentication token found");let r=new URLSearchParams;void 0!==e&&r.append("includeRead",e.toString()),void 0!==t&&r.append("includeExpired",t.toString());let o=await fetch("".concat(s,"/notifications?").concat(r.toString()),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!o.ok)throw Error((await o.json().catch(()=>({error:"Failed to fetch notifications"}))).error||"Failed to fetch notifications");return o.json()}async function o(e){let t=(0,n.hP)();if(!t)throw Error("No authentication token found");let a=await fetch("".concat(s,"/notifications/").concat(e,"/read"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error((await a.json().catch(()=>({error:"Failed to mark notification as read"}))).error||"Failed to mark notification as read");return(await a.json()).notification}async function i(e){let t=(0,n.hP)();if(!t)throw Error("No authentication token found");let a=await fetch("".concat(s,"/notifications/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw Error((await a.json().catch(()=>({error:"Failed to delete notification"}))).error||"Failed to delete notification")}async function l(){return(await r(!1,!1)).unreadCount}},98793:function(e,t,a){"use strict";a.d(t,{DH:function(){return d},PR:function(){return c},av:function(){return l},hP:function(){return i},pw:function(){return u},vD:function(){return o}});let n="volleyball_access_token",s="volleyball_refresh_token",r="volleyball_user",o=e=>{localStorage.setItem(n,e.accessToken),localStorage.setItem(s,e.refreshToken)},i=()=>localStorage.getItem(n),l=e=>{localStorage.setItem(r,JSON.stringify(e))},c=()=>{let e=localStorage.getItem(r);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},d=()=>{localStorage.removeItem(n),localStorage.removeItem(s),localStorage.removeItem(r)},h=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch(e){return null}},u=e=>{let t=h(e);if(!t||!t.exp)return!0;let a=Date.now()/1e3;return t.exp<a}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=50034)}),_N_E=e.O()}]);