(()=>{var e={};e.id=225,e.ids=[225],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},21507:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.ZP,__next_app__:()=>m,originalPathname:()=>d,pages:()=>c,routeModule:()=>x,tree:()=>o});var s=a(50482),r=a(69108),l=a(83543),n=a(68300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);a.d(t,i);let o=["",{children:["coach",{children:["team",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,38390)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\coach\\team\\analytics\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,56887)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,24117)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\coach\\team\\analytics\\page.tsx"],d="/coach/team/analytics/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/coach/team/analytics/page",pathname:"/coach/team/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},12262:(e,t,a)=>{Promise.resolve().then(a.bind(a,56406))},56406:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(95344),r=a(3729),l=a(8428),n=a(66700),i=a(94794),o=a(79956),c=a(34034),d=a(98649),m=a(10342),x=a(52354),h=a(38397),u=a(53527);function p(){let e=(0,l.useRouter)(),{user:t,isLoading:p,isAuthenticated:g}=(0,n.a)(),[f,b]=(0,r.useState)(null),[y,j]=(0,r.useState)(null),[v,N]=(0,r.useState)([]),[w,k]=(0,r.useState)([]),[$,S]=(0,r.useState)(!0),[P,C]=(0,r.useState)(null),[D,A]=(0,r.useState)({}),[z,M]=(0,r.useState)(""),[E,T]=(0,r.useState)(""),[F,L]=(0,r.useState)(""),[R,_]=(0,r.useState)("");(0,r.useEffect)(()=>{if(!p&&!g){e.push("/login");return}if(t&&"COACH"!==t.role&&"ADMIN"!==t.role){e.push("/dashboard");return}t&&B(new URLSearchParams(window.location.search).get("teamId")||void 0)},[t,g,p,e]);let B=async e=>{if(t)try{S(!0),C(null);let t=e;if(!t){let{getAllTeams:e}=await Promise.resolve().then(a.bind(a,94794)),s=await e();if(0===s.length){C("Nenhum time encontrado. Entre em contato com um administrador."),S(!1);return}t=s[0].id}let s=await (0,i.VP)(t);b(s);let r=await (0,i.P3)(t);j(r),await H(t)}catch(e){console.error("Error loading analytics data:",e),C("Falha ao carregar dados de an\xe1lise. Tente novamente.")}finally{S(!1)}},H=async e=>{let t=e||"team-1",a={};z&&(a.startDate=z),E&&(a.endDate=E),F&&(a.opponent=F),R&&"all"!==R&&(a.fundamental=R);try{let[e,s]=await Promise.all([(0,i.Yy)(t,a),(0,i.LD)(t,a)]);N(e),k(s),A(a)}catch(e){console.error("Error applying filters:",e)}},G=e=>e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim(),W=e=>e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),q=(e,t)=>t.includes("Efficiency")||t.includes("Quality")?`${(100*e).toFixed(1)}%`:e.toFixed(1);if(p||$)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando an\xe1lises..."})]})});if(P)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx(o.Z,{className:"max-w-md",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600 mb-4",children:P}),s.jsx(c.z,{onClick:()=>B(),children:"Retry"})]})})});if(!f||!y)return null;let I=w&&0!==w.length?Object.values(w.reduce((e,t)=>{let a=new Date(t.date).toLocaleDateString("pt-BR",{month:"short",day:"numeric"});return e[a]||(e[a]={date:a}),e[a][t.metric]=t.value,e},{})):[],U=(()=>{if(!w||0===w.length)return[];let e=Array.from(new Set(w.map(e=>e.metric))),t={attackEfficiency:"#3b82f6",serveEfficiency:"#10b981",receptionQuality:"#f59e0b",blockEfficiency:"#8b5cf6",totalPoints:"#ef4444"};return e.map(e=>({key:e,color:t[e]||"#6b7280",name:G(e)}))})();return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Analytics"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.name})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>e.push("/coach/dashboard"),children:"Voltar para Painel"})})]})})}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Performance"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(u.W,{title:"Total Matches",value:y.totalMatches||0,subtitle:`${y.wins||0}W - ${y.losses||0}L`,icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),s.jsx(u.W,{title:"Attack Efficiency",value:`${(100*(y.averageAttackEfficiency||0)).toFixed(1)}%`,subtitle:"Team average",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),s.jsx(u.W,{title:"Serve Efficiency",value:`${(100*(y.averageServeEfficiency||0)).toFixed(1)}%`,subtitle:"Team average",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(u.W,{title:"Reception Quality",value:`${(100*(y.averageReceptionQuality||0)).toFixed(1)}%`,subtitle:"Team average",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})})})]})]}),(0,s.jsxs)(o.Z,{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),s.jsx(m.I,{type:"date",value:z,onChange:e=>M(e.target.value),placeholder:"Start date"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),s.jsx(m.I,{type:"date",value:E,onChange:e=>T(e.target.value),placeholder:"End date"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opponent"}),s.jsx(m.I,{type:"text",value:F,onChange:e=>L(e.target.value),placeholder:"Opponent team"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fundamental"}),s.jsx(d.P,{value:R,onChange:e=>_(e.target.value),options:[{value:"",label:"All Fundamentals"},{value:"attack",label:"Attack"},{value:"serve",label:"Serve"},{value:"reception",label:"Reception"},{value:"block",label:"Block"},{value:"defense",label:"Defense"}]})]}),(0,s.jsxs)("div",{className:"flex items-end space-x-2",children:[s.jsx(c.z,{onClick:()=>{H()},className:"flex-1",children:"Apply"}),s.jsx(c.z,{variant:"outline",onClick:()=>{M(""),T(""),L(""),_(""),A({}),H()},className:"flex-1",children:"Reset"})]})]})]}),I.length>0&&U.length>0&&s.jsx("div",{className:"mb-8",children:s.jsx(h.r,{data:I,xAxisKey:"date",yAxisKeys:U,type:"line",height:400,title:"Performance Trends Over Time"})}),0===I.length&&s.jsx(o.Z,{className:"mb-8",children:(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s.jsx("p",{className:"text-gray-600",children:"No trend data available for the selected filters"})]})}),(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Roster & Individual Statistics"}),s.jsx(o.Z,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.length>0?v.map(t=>(0,s.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e.push(`/athletes/${t.athlete.id}`),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:t.athlete.name.split(" ").map(e=>e[0]).join("").substring(0,2)}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:t.athlete.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Rank #",t.rank]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.value.toFixed(1)}),s.jsx("div",{className:"text-xs text-gray-500 capitalize",children:t.metric})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("div",{className:"text-gray-600 text-xs",children:"Position"}),s.jsx("div",{className:"font-semibold",children:t.athlete.position})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("div",{className:"text-gray-600 text-xs",children:"Jersey #"}),s.jsx("div",{className:"font-semibold",children:t.athlete.jerseyNumber})]})]}),s.jsx("button",{onClick:a=>{a.stopPropagation(),e.push(`/athletes/${t.athlete.id}`)},className:"mt-3 w-full text-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Full Statistics →"})]},t.athlete.id)):(0,s.jsxs)("div",{className:"col-span-full text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("p",{className:"text-gray-600",children:"No athlete data available"})]})})})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Athlete Rankings"}),v.length>0?s.jsx(o.Z,{children:s.jsx(x.w,{data:v,columns:[{key:"rank",header:"Rank",sortable:!0,render:(e,t)=>s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:`
            inline-flex items-center justify-center w-8 h-8 rounded-full font-semibold
            ${1===t.rank?"bg-yellow-100 text-yellow-800":""}
            ${2===t.rank?"bg-gray-100 text-gray-800":""}
            ${3===t.rank?"bg-orange-100 text-orange-800":""}
            ${t.rank>3?"bg-blue-50 text-blue-700":""}
          `,children:t.rank})})},{key:"athlete",header:"Athlete",sortable:!0,render:(e,t)=>(0,s.jsxs)("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:t.athlete.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["#",t.athlete.jerseyNumber," • ",W(t.athlete.position)]})]})},{key:"metric",header:"Metric",sortable:!0,render:(e,t)=>s.jsx("span",{className:"text-gray-700",children:G(t.metric)})},{key:"value",header:"Value",sortable:!0,render:(e,t)=>s.jsx("span",{className:"font-semibold text-gray-900",children:q(t.value,t.metric)})}]})}):s.jsx(o.Z,{children:(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("p",{className:"text-gray-600",children:"No ranking data available for the selected filters"})]})})]})]})]})}},79956:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(95344);a(3729);let r=({children:e,title:t,subtitle:a,footer:r,className:l="",padding:n="md",hoverable:i=!1,onClick:o})=>{let c={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,s.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 transition-all ${i?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""} ${o?"cursor-pointer touch-manipulation":""} ${l}`,onClick:()=>{o&&o()},onKeyDown:e=>{o&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),o())},role:o?"button":void 0,tabIndex:o?0:void 0,children:[(t||a)&&(0,s.jsxs)("div",{className:`border-b border-gray-200 ${c[n]} pb-3`,children:[t&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),a&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a})]}),s.jsx("div",{className:c[n],children:e}),r&&s.jsx("div",{className:`border-t border-gray-200 ${c[n]} pt-3`,children:r})]})}},52354:(e,t,a)=>{"use strict";a.d(t,{w:()=>l});var s=a(95344),r=a(3729);function l({data:e,columns:t,onRowClick:a,pagination:l=!1,pageSize:n=10,className:i="",emptyMessage:o="No data available"}){let[c,d]=(0,r.useState)(null),[m,x]=(0,r.useState)(null),[h,u]=(0,r.useState)(1),p=(e,t)=>{t&&(c===e?"asc"===m?x("desc"):"desc"===m&&(x(null),d(null)):(d(e),x("asc")))},g=(0,r.useMemo)(()=>c&&m?[...e].sort((e,t)=>{let a=e[c],s=t[c];if(a===s)return 0;let r=a<s?-1:1;return"asc"===m?r:-r}):e,[e,c,m]),f=(0,r.useMemo)(()=>{if(!l)return g;let e=(h-1)*n;return g.slice(e,e+n)},[g,l,h,n]),b=Math.ceil(e.length/n),y=e=>{u(e)},j=e=>c!==e?"⇅":"asc"===m?"↑":"desc"===m?"↓":"⇅";return(0,s.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden ${i}`,children:[s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:t.map(e=>s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${e.sortable?"cursor-pointer hover:bg-gray-100":""}`,style:{width:e.width},onClick:()=>p(e.key,e.sortable),children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:e.header}),e.sortable&&s.jsx("span",{className:"text-gray-400",children:j(e.key)})]})},e.key))})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===f.length?s.jsx("tr",{children:s.jsx("td",{colSpan:t.length,className:"px-6 py-8 text-center text-sm text-gray-500",children:o})}):f.map((e,r)=>s.jsx("tr",{className:`${a?"cursor-pointer hover:bg-gray-50":""} transition-colors`,onClick:()=>a?.(e),children:t.map(t=>s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.render?t.render(e[t.key],e):e[t.key]},t.key))},r))})]})}),l&&b>1&&(0,s.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(h-1)*n+1," to"," ",Math.min(h*n,e.length)," of ",e.length," results"]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>y(h-1),disabled:1===h,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:b},(e,t)=>t+1).map(e=>s.jsx("button",{onClick:()=>y(e),className:`px-3 py-1 text-sm font-medium rounded-md ${h===e?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:e},e)),s.jsx("button",{onClick:()=>y(h+1),disabled:h===b,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}},10342:(e,t,a)=>{"use strict";a.d(t,{I:()=>r});var s=a(95344);let r=(0,a(3729).forwardRef)(({label:e,error:t,helperText:a,fullWidth:r=!1,validationState:l="default",className:n="",id:i,...o},c)=>{let d=i||`input-${Math.random().toString(36).substr(2,9)}`,m=t?"error":l;return(0,s.jsxs)("div",{className:r?"w-full":"",children:[e&&s.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),s.jsx("input",{ref:c,id:d,className:`block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400 ${{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[m]} ${r?"w-full":""} ${n}`,...o}),t&&s.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t}),a&&!t&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]})});r.displayName="Input"},38397:(e,t,a)=>{"use strict";a.d(t,{r:()=>u});var s=a(95344);a(3729);var r=a(2239),l=a(33231),n=a(18964),i=a(20903),o=a(86902),c=a(29173),d=a(90626),m=a(31634),x=a(2422),h=a(8451);let u=({data:e,xAxisKey:t,yAxisKeys:a,type:u="line",height:p=300,className:g="",title:f})=>{let b="line"===u?r.w:l.v;return(0,s.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 p-3 sm:p-4 md:p-6 ${g}`,children:[f&&s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:f}),s.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6",children:s.jsx("div",{className:"min-w-[300px]",children:s.jsx(n.h,{width:"100%",height:p,children:(0,s.jsxs)(b,{data:e,children:[s.jsx(i.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(o.K,{dataKey:t,stroke:"#6b7280",style:{fontSize:"10px"},tick:{fontSize:10},interval:"preserveStartEnd"}),s.jsx(c.B,{stroke:"#6b7280",style:{fontSize:"10px"},tick:{fontSize:10},width:40}),s.jsx(d.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px"}}),s.jsx(m.D,{wrapperStyle:{fontSize:"10px"},iconSize:10}),"line"===u?a.map(e=>s.jsx(x.x,{type:"monotone",dataKey:e.key,stroke:e.color,strokeWidth:2,name:e.name||e.key,dot:{fill:e.color,r:3},activeDot:{r:5}},e.key)):a.map(e=>s.jsx(h.$,{dataKey:e.key,fill:e.color,name:e.name||e.key},e.key))]})})})})]})}},98649:(e,t,a)=>{"use strict";a.d(t,{P:()=>r});var s=a(95344);let r=(0,a(3729).forwardRef)(({label:e,error:t,helperText:a,fullWidth:r=!1,validationState:l="default",options:n,placeholder:i,className:o="",id:c,...d},m)=>{let x=c||`select-${Math.random().toString(36).substr(2,9)}`,h=t?"error":l;return(0,s.jsxs)("div",{className:r?"w-full":"",children:[e&&s.jsx("label",{htmlFor:x,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,s.jsxs)("select",{ref:m,id:x,className:`block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 ${{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[h]} ${r?"w-full":""} ${o}`,...d,children:[i&&s.jsx("option",{value:"",disabled:!0,children:i}),n.map(e=>s.jsx("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),t&&s.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t}),a&&!t&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]})});r.displayName="Select"},53527:(e,t,a)=>{"use strict";a.d(t,{W:()=>r});var s=a(95344);a(3729);let r=({title:e,value:t,trend:a,trendValue:r,icon:l,className:n="",subtitle:i})=>s.jsx("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 p-4 sm:p-6 ${n}`,children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1 truncate",children:e}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 truncate",children:t}),i&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:i}),a&&r&&(0,s.jsxs)("div",{className:`flex items-center mt-2 text-xs sm:text-sm ${{up:"text-green-600",down:"text-red-600",neutral:"text-gray-600"}[a]}`,children:[s.jsx("span",{className:"mr-1",children:{up:"↑",down:"↓",neutral:"→"}[a]}),s.jsx("span",{className:"truncate",children:r})]})]}),l&&s.jsx("div",{className:"flex-shrink-0 ml-2 sm:ml-4 text-gray-400",children:l})]})})},66700:(e,t,a)=>{"use strict";a.d(t,{a:()=>n});var s=a(3729),r=a(8428),l=a(25750);let n=()=>{let e=(0,r.useRouter)(),[t,a]=(0,s.useState)(null),[n,i]=(0,s.useState)(!0),[o,c]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(()=>{let t=(0,l.hP)(),s=(0,l.PR)();t&&s?(0,l.pw)(t)?((0,l.DH)(),a(null),c(!1),e.push("/login")):(a(s),c(!0)):(a(null),c(!1)),i(!1)})()},[e]),{user:t,isLoading:n,isAuthenticated:o,logout:()=>{(0,l.DH)(),a(null),c(!1),e.push("/login")}}}},94794:(e,t,a)=>{"use strict";a.d(t,{Cm:()=>m,LD:()=>c,P3:()=>n,VP:()=>l,Yy:()=>o,fs:()=>x,getAllTeams:()=>d,yw:()=>i});var s=a(25750);let r="http://191.252.184.121:4000";async function l(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/teams/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team details");return a.json()}async function n(e){let t=(0,s.hP)();console.log("Fetching team statistics for:",e);let a=await fetch(`${r}/api/teams/${e}/statistics`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch team statistics"}));throw console.error("Team statistics error:",e),Error(e.error||e.message||"Failed to fetch team statistics")}let l=await a.json();return console.log("Team statistics response:",l),l.statistics||l}async function i(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/teams/${e}/athletes`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team athletes");let l=await a.json();return l.athletes||l}async function o(e,t){let a=(0,s.hP)(),l=new URLSearchParams;l.append("metric","totalPoints"),t?.startDate&&l.append("startDate",t.startDate),t?.endDate&&l.append("endDate",t.endDate),t?.opponent&&l.append("opponentTeamId",t.opponent);let n=`${r}/api/teams/${e}/rankings?${l.toString()}`;console.log("Fetching team rankings:",n);let i=await fetch(n,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!i.ok){let e=await i.json().catch(()=>({message:"Failed to fetch team rankings"}));throw console.error("Team rankings error:",e),Error(e.error||e.message||"Failed to fetch team rankings")}let o=await i.json();return console.log("Team rankings response:",o),o.rankings||o}async function c(e,t){let a=(0,s.hP)(),l=new URLSearchParams;t?.fundamental||l.append("metric","attackEfficiency"),t?.startDate&&l.append("startDate",t.startDate),t?.endDate&&l.append("endDate",t.endDate),t?.opponent&&l.append("opponentTeamId",t.opponent),t?.fundamental&&l.append("fundamental",t.fundamental);let n=`${r}/api/teams/${e}/trends${l.toString()?`?${l.toString()}`:""}`;console.log("Fetching team trends:",n);let i=await fetch(n,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!i.ok){let e=await i.json().catch(()=>({message:"Failed to fetch team trends"}));throw console.error("Team trends error:",e),Error(e.error||e.message||"Failed to fetch team trends")}let o=await i.json();return console.log("Team trends response:",o),o.trends||o}async function d(){let e=(0,s.hP)(),t=await fetch(`${r}/api/teams`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch teams");return(await t.json()).teams}async function m(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/teams`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok)throw Error("Failed to create team");return(await a.json()).team}async function x(e,t){let a=(0,s.hP)(),l=await fetch(`${r}/api/teams/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!l.ok)throw Error("Failed to update team");return(await l.json()).team}},25750:(e,t,a)=>{"use strict";a.d(t,{DH:()=>i,PR:()=>n,av:()=>l,hP:()=>r,pw:()=>c,vD:()=>s});let s=e=>{},r=()=>null,l=e=>{},n=()=>null,i=()=>{},o=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch{return null}},c=e=>{let t=o(e);if(!t||!t.exp)return!0;let a=Date.now()/1e3;return t.exp<a}},38390:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let s=(0,a(86843).createProxy)(String.raw`C:\Users\guilherme.almeida\Documents\GitHub\Gestao-Atletas-front\src\app\coach\team\analytics\page.tsx`),{__esModule:r,$$typeof:l}=s,n=s.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[160,470,367],()=>a(21507));module.exports=s})();