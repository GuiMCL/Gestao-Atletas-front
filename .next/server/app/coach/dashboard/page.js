(()=>{var e={};e.id=364,e.ids=[364],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},86328:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.ZP,__next_app__:()=>h,originalPathname:()=>d,pages:()=>l,routeModule:()=>m,tree:()=>c});var s=a(50482),r=a(69108),n=a(83543),o=a(68300),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let c=["",{children:["coach",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,61587)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\coach\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,56887)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,24117)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\coach\\dashboard\\page.tsx"],d="/coach/dashboard/page",h={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/coach/dashboard/page",pathname:"/coach/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},57069:(e,t,a)=>{Promise.resolve().then(a.bind(a,52580))},8428:(e,t,a)=>{"use strict";var s=a(14767);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},52580:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(95344),r=a(3729),n=a(8428),o=a(66700),i=a(94794),c=a(39873),l=a(53527),d=a(79956),h=a(34034);function m(){let e=(0,n.useRouter)(),{user:t,isLoading:m,isAuthenticated:u,logout:p}=(0,o.a)(),[x,g]=(0,r.useState)(null),[f,j]=(0,r.useState)(null),[w,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(!0),[k,N]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!m&&!u){e.push("/login");return}if(t&&"COACH"!==t.role&&"ADMIN"!==t.role){e.push("/dashboard");return}t&&$()},[t,u,m,e]);let $=async()=>{if(t)try{b(!0),N(null);let{getAllTeams:e}=await Promise.resolve().then(a.bind(a,94794)),t=await e();if(0===t.length){N("Nenhuma equipe encontrada. Por favor, entre em contato com um administrador."),b(!1);return}let s=t[0].id,r=await (0,i.VP)(s);g(r);let n=await (0,i.P3)(s);console.log("Team statistics loaded:",n),console.log("Total matches:",n.totalMatches),console.log("Wins:",n.wins,"Losses:",n.losses),j(n);let o=(await (0,c.h_)({teamId:s,page:1,pageSize:5})).matches.filter(e=>"SCHEDULED"===e.status||"IN_PROGRESS"===e.status);y(o)}catch(e){console.error("Error loading dashboard data:",e),N("Falha ao carregar os dados do painel. Por favor, tente novamente.")}finally{b(!1)}},P=e=>new Date(e).toLocaleDateString("pt-BR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=e=>{switch(e){case"SCHEDULED":return"Agendado";case"IN_PROGRESS":return"Em Andamento";case"FINALIZED":return"Finalizado";case"CANCELLED":return"Cancelado";default:return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}},S=e=>{switch(e){case"SCHEDULED":default:return"bg-gray-100 text-gray-800";case"IN_PROGRESS":return"bg-blue-100 text-blue-800";case"FINALIZED":return"bg-green-100 text-green-800";case"CANCELLED":return"bg-red-100 text-red-800"}};return m||v?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando painel..."})]})}):k?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx(d.Z,{className:"max-w-md",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600 mb-4",children:k}),s.jsx(h.z,{onClick:$,children:"Tentar novamente"})]})})}):x&&f?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel do Treinador"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.name})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx(h.z,{variant:"outline",size:"sm",onClick:()=>e.push("/coach/matches"),children:"Jogos"}),s.jsx(h.z,{variant:"outline",size:"sm",onClick:()=>e.push("/coach/team/analytics"),children:"An\xe1lises da Equipe"}),s.jsx(h.z,{variant:"outline",size:"sm",onClick:p,children:"Sair"})]})]})})}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"A\xe7\xf5es R\xe1pidas"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)(h.z,{onClick:()=>e.push("/coach/matches/create"),className:"h-24 flex flex-col items-center justify-center space-y-2",children:[s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),s.jsx("span",{className:"text-base font-medium",children:"Criar Novo Jogo"})]}),(0,s.jsxs)(h.z,{variant:"outline",onClick:()=>e.push("/coach/team/analytics"),className:"h-24 flex flex-col items-center justify-center space-y-2",children:[s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s.jsx("span",{className:"text-base font-medium",children:"Ver An\xe1lises"})]}),(0,s.jsxs)(h.z,{variant:"outline",onClick:()=>e.push("/coach/athletes"),className:"h-24 flex flex-col items-center justify-center space-y-2",children:[s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("span",{className:"text-base font-medium",children:"Gerenciar Atletas"})]})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Desempenho da Equipe"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(l.W,{title:"Total de Jogos",value:f.totalMatches||0,subtitle:`${f.wins||0}W - ${f.losses||0}L`,icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),s.jsx(l.W,{title:"Efici\xeancia de Ataque",value:`${(100*(f.averageAttackEfficiency||0)).toFixed(1)}%`,subtitle:"M\xe9dia da equipe",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),s.jsx(l.W,{title:"Efici\xeancia de Saque",value:`${(100*(f.averageServeEfficiency||0)).toFixed(1)}%`,subtitle:"M\xe9dia da equipe",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(l.W,{title:"Registro de Sets",value:`${f.setsWon||0}-${f.setsLost||0}`,subtitle:"Ganhos - Perdidos",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pr\xf3ximos Jogos"}),s.jsx(h.z,{variant:"outline",size:"sm",onClick:()=>e.push("/coach/matches"),children:"Ver Todos os Jogos"})]}),0===w.length?s.jsx(d.Z,{children:(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Nenhum jogo agendado"}),s.jsx(h.z,{onClick:()=>e.push("/coach/matches/create"),children:"Criar Novo Jogo"})]})}):s.jsx("div",{className:"space-y-3",children:w.map(t=>s.jsx(d.Z,{hoverable:!0,onClick:()=>{"IN_PROGRESS"===t.status?e.push(`/coach/matches/${t.id}/live`):e.push(`/coach/matches/${t.id}`)},className:"cursor-pointer",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,s.jsxs)("div",{className:"text-base font-semibold text-gray-900",children:[t.homeTeam.name," vs ",t.awayTeam.name]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S(t.status)}`,children:C(t.status)})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),P(t.date)]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.location]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:["IN_PROGRESS"===t.status&&s.jsx(h.z,{size:"sm",children:"Ir para Jogo ao Vivo"}),"SCHEDULED"===t.status&&s.jsx(h.z,{size:"sm",variant:"outline",children:"Ver Detalhes"}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},t.id))})]})]})]}):null}},79956:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(95344);a(3729);let r=({children:e,title:t,subtitle:a,footer:r,className:n="",padding:o="md",hoverable:i=!1,onClick:c})=>{let l={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,s.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 transition-all ${i?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""} ${c?"cursor-pointer touch-manipulation":""} ${n}`,onClick:()=>{c&&c()},onKeyDown:e=>{c&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),c())},role:c?"button":void 0,tabIndex:c?0:void 0,children:[(t||a)&&(0,s.jsxs)("div",{className:`border-b border-gray-200 ${l[o]} pb-3`,children:[t&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),a&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a})]}),s.jsx("div",{className:l[o],children:e}),r&&s.jsx("div",{className:`border-t border-gray-200 ${l[o]} pt-3`,children:r})]})}},53527:(e,t,a)=>{"use strict";a.d(t,{W:()=>r});var s=a(95344);a(3729);let r=({title:e,value:t,trend:a,trendValue:r,icon:n,className:o="",subtitle:i})=>s.jsx("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 p-4 sm:p-6 ${o}`,children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1 truncate",children:e}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 truncate",children:t}),i&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:i}),a&&r&&(0,s.jsxs)("div",{className:`flex items-center mt-2 text-xs sm:text-sm ${{up:"text-green-600",down:"text-red-600",neutral:"text-gray-600"}[a]}`,children:[s.jsx("span",{className:"mr-1",children:{up:"↑",down:"↓",neutral:"→"}[a]}),s.jsx("span",{className:"truncate",children:r})]})]}),n&&s.jsx("div",{className:"flex-shrink-0 ml-2 sm:ml-4 text-gray-400",children:n})]})})},66700:(e,t,a)=>{"use strict";a.d(t,{a:()=>o});var s=a(3729),r=a(8428),n=a(25750);let o=()=>{let e=(0,r.useRouter)(),[t,a]=(0,s.useState)(null),[o,i]=(0,s.useState)(!0),[c,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(()=>{let t=(0,n.hP)(),s=(0,n.PR)();t&&s?(0,n.pw)(t)?((0,n.DH)(),a(null),l(!1),e.push("/login")):(a(s),l(!0)):(a(null),l(!1)),i(!1)})()},[e]),{user:t,isLoading:o,isAuthenticated:c,logout:()=>{(0,n.DH)(),a(null),l(!1),e.push("/login")}}}},39873:(e,t,a)=>{"use strict";a.d(t,{$P:()=>o,FD:()=>f,Hd:()=>d,Jx:()=>h,Rt:()=>g,Wo:()=>c,dX:()=>x,h_:()=>n,ig:()=>p,nz:()=>u,qN:()=>i,rA:()=>m,zl:()=>l});var s=a(25750);let r="http://localhost:4000";async function n(e){let t=(0,s.hP)(),a=new URLSearchParams;e?.status&&a.append("status",e.status),e?.teamId&&a.append("teamId",e.teamId),e?.page&&a.append("page",e.page.toString()),e?.pageSize&&a.append("pageSize",e.pageSize.toString());let n=`${r}/api/matches${a.toString()?`?${a.toString()}`:""}`,o=await fetch(n,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!o.ok)throw Error("Failed to fetch matches");return o.json()}async function o(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/matches/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch match details");return(await a.json()).match}async function i(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/matches`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to create match"}));throw Error(e.error||e.message||"Failed to create match")}return a.json()}async function c(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/matches/${e}/start`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok)throw Error("Failed to start match");return a.json()}async function l(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/matches/${e.matchId}/actions`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json().catch(()=>({message:"Failed to register action"}))).message||"Failed to register action");return a.json()}async function d(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/statistics/match/${e}/live`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch live statistics"}));throw console.error("Live statistics error:",e),Error(e.error||e.message||"Failed to fetch live statistics")}let n=await a.json();return console.log("Live statistics response:",n),n.liveStatistics||n}async function h(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/matches/${e}/sets`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to create set"}));throw Error(e.error||e.message||"Failed to create set")}let n=await a.json();return{set:n.set||n}}async function m(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/sets/${e}/finalize`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to finalize set"}));throw Error(e.error||e.message||"Failed to finalize set")}return a.json()}async function u(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/matches/${e}/sets`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch match sets");let n=await a.json();return n.sets||n}async function p(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/matches/${e}/finalize`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to finalize match"}));throw Error(e.error||e.message||"Failed to finalize match")}return a.json()}async function x(e){let t=(0,s.hP)();console.log("Fetching match statistics for:",e);let a=await fetch(`${r}/api/statistics/match/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch match statistics"}));throw console.error("Match statistics error:",e),Error(e.error||e.message||"Failed to fetch match statistics")}let n=await a.json();return console.log("Match statistics response:",n),n.statistics||n}async function g(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/matches/${e}/actions/last`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to undo action"}));throw Error(e.error||e.message||"Failed to undo action")}return a.json()}async function f(e,t){let a=(0,s.hP)();if(!a)throw Error("No authentication token available. Please log in again.");try{let e=a.split(".");if(3===e.length){let t=JSON.parse(atob(e[1])),a=Date.now()/1e3;if(t.exp&&t.exp<a)throw Error("Authentication token has expired. Please log in again.")}}catch(e){console.warn("Could not validate token expiration:",e)}let n=await fetch(`${r}/api/statistics/match/${e}/export?format=${t}`,{headers:{Authorization:`Bearer ${a}`}});if(!n.ok){let e=await n.text().catch(()=>`Failed to export match statistics as ${t}`),a=`Failed to export match statistics as ${t}`;try{let t=JSON.parse(e);a=t.error||t.message||a}catch{a=e||a}throw Error(a)}return n.blob()}},94794:(e,t,a)=>{"use strict";a.d(t,{Cm:()=>h,LD:()=>l,P3:()=>o,VP:()=>n,Yy:()=>c,fs:()=>m,getAllTeams:()=>d,yw:()=>i});var s=a(25750);let r="http://localhost:4000";async function n(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/teams/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team details");return a.json()}async function o(e){let t=(0,s.hP)();console.log("Fetching team statistics for:",e);let a=await fetch(`${r}/api/teams/${e}/statistics`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch team statistics"}));throw console.error("Team statistics error:",e),Error(e.error||e.message||"Failed to fetch team statistics")}let n=await a.json();return console.log("Team statistics response:",n),n.statistics||n}async function i(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/teams/${e}/athletes`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team athletes");let n=await a.json();return n.athletes||n}async function c(e,t){let a=(0,s.hP)(),n=new URLSearchParams;n.append("metric","totalPoints"),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),t?.opponent&&n.append("opponentTeamId",t.opponent);let o=`${r}/api/teams/${e}/rankings?${n.toString()}`;console.log("Fetching team rankings:",o);let i=await fetch(o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!i.ok){let e=await i.json().catch(()=>({message:"Failed to fetch team rankings"}));throw console.error("Team rankings error:",e),Error(e.error||e.message||"Failed to fetch team rankings")}let c=await i.json();return console.log("Team rankings response:",c),c.rankings||c}async function l(e,t){let a=(0,s.hP)(),n=new URLSearchParams;t?.fundamental||n.append("metric","attackEfficiency"),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),t?.opponent&&n.append("opponentTeamId",t.opponent),t?.fundamental&&n.append("fundamental",t.fundamental);let o=`${r}/api/teams/${e}/trends${n.toString()?`?${n.toString()}`:""}`;console.log("Fetching team trends:",o);let i=await fetch(o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!i.ok){let e=await i.json().catch(()=>({message:"Failed to fetch team trends"}));throw console.error("Team trends error:",e),Error(e.error||e.message||"Failed to fetch team trends")}let c=await i.json();return console.log("Team trends response:",c),c.trends||c}async function d(){let e=(0,s.hP)(),t=await fetch(`${r}/api/teams`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch teams");return(await t.json()).teams}async function h(e){let t=(0,s.hP)(),a=await fetch(`${r}/api/teams`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok)throw Error("Failed to create team");return(await a.json()).team}async function m(e,t){let a=(0,s.hP)(),n=await fetch(`${r}/api/teams/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!n.ok)throw Error("Failed to update team");return(await n.json()).team}},25750:(e,t,a)=>{"use strict";a.d(t,{DH:()=>i,PR:()=>o,av:()=>n,hP:()=>r,pw:()=>l,vD:()=>s});let s=e=>{},r=()=>null,n=e=>{},o=()=>null,i=()=>{},c=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch{return null}},l=e=>{let t=c(e);if(!t||!t.exp)return!0;let a=Date.now()/1e3;return t.exp<a}},61587:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>o});let s=(0,a(86843).createProxy)(String.raw`C:\Users\guilherme.almeida\Documents\GitHub\Gestao-Atletas-front\src\app\coach\dashboard\page.tsx`),{__esModule:r,$$typeof:n}=s,o=s.default}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[160,454],()=>a(86328));module.exports=s})();