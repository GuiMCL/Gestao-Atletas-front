(()=>{var e={};e.id=612,e.ids=[612],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},92599:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.ZP,__next_app__:()=>m,originalPathname:()=>d,pages:()=>c,routeModule:()=>x,tree:()=>o});var a=s(50482),r=s(69108),i=s(83543),l=s(68300),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);s.d(t,n);let o=["",{children:["coach",{children:["matches",{children:["[id]",{children:["finalize",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,56987)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\coach\\matches\\[id]\\finalize\\page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,56887)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\coach\\matches\\[id]\\finalize\\page.tsx"],d="/coach/matches/[id]/finalize/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/coach/matches/[id]/finalize/page",pathname:"/coach/matches/[id]/finalize",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},28490:(e,t,s)=>{Promise.resolve().then(s.bind(s,90379))},8428:(e,t,s)=>{"use strict";var a=s(14767);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},90379:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(95344),r=s(3729),i=s(8428),l=s(66700),n=s(39873),o=s(34034),c=s(79956),d=s(70793),m=s(44669);function x(){let e=(0,i.useRouter)(),{id:t}=(0,i.useParams)(),{user:s,isLoading:x,isAuthenticated:h}=(0,l.a)(),[u,p]=(0,r.useState)(null),[g,f]=(0,r.useState)(null),[j,y]=(0,r.useState)(!0),[b,N]=(0,r.useState)(!1),[w,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!x&&!h){e.push("/login");return}if(s&&"COACH"!==s.role&&"ADMIN"!==s.role){e.push("/dashboard");return}s&&t&&S()},[s,h,x,e,t]);let S=async()=>{try{y(!0),v(null);let[e,s]=await Promise.all([(0,n.$P)(t),(0,n.dX)(t)]);p(e),f(s)}catch(e){console.error("Error loading match data:",e),v("Failed to load match data. Please try again.")}finally{y(!1)}},P=e=>0===e.length?null:e.reduce((e,t)=>e.totalPoints>t.totalPoints?e:t),k=async e=>{if(t)try{N(!0);let s=await (0,n.FD)(t,e),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download=`match-${u?.homeTeam.name}-vs-${u?.awayTeam.name}.${e}`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a),m.default.success(`Estat\xedsticas exportadas como ${e.toUpperCase()}`)}catch(e){console.error("Error exporting statistics:",e),m.default.error("Falha ao exportar estat\xedsticas")}finally{N(!1)}};return x||j?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando dados da partida..."})]})}):u?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:()=>e.push("/coach/matches"),className:"text-gray-600 hover:bg-gray-100",children:[a.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Voltar para Partidas"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-1",children:"Resumo da Partida"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx(o.z,{variant:"outline",onClick:()=>k("pdf"),disabled:b,loading:b,children:"Exportar PDF"}),a.jsx(o.z,{variant:"outline",onClick:()=>k("xlsx"),disabled:b,loading:b,children:"Exportar Excel"}),a.jsx(o.z,{variant:"outline",onClick:()=>k("json"),disabled:b,loading:b,children:"Exportar JSON"})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-6",children:[a.jsx(c.Z,{className:"mb-6",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[u.homeTeam.name," vs ",u.awayTeam.name]}),a.jsx(d.C,{variant:(e=>{switch(e){case"FINALIZED":return"success";case"IN_PROGRESS":return"info";case"SCHEDULED":default:return"default";case"CANCELLED":return"error"}})(u.status),children:u.status.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4L13 8l-5 5m0 0v4m0-4L3 8l5 5"})}),new Date(u.date).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),u.location]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.sets?.length||0," Sets"]})]})]})}),"FINALIZED"===u.status&&u.sets&&u.sets.length>0&&a.jsx(c.Z,{className:"mb-6",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Placar Final"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:[u.sets.filter(e=>"FINALIZED"===e.status).reduce((e,t)=>e+(t.homeScore>t.awayScore?1:0),0)," -",u.sets.filter(e=>"FINALIZED"===e.status).reduce((e,t)=>e+(t.awayScore>t.homeScore?1:0),0)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Resultado final da partida"})]})]})}),u.sets&&u.sets.length>0&&a.jsx(c.Z,{className:"mb-6",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resultados por Set"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:u.sets.map((e,t)=>{let s=e.homeScore>e.awayScore,r=e.awayScore>e.homeScore;return(0,a.jsxs)("div",{className:`text-center p-4 rounded-lg border-2 ${"FINALIZED"===e.status?"bg-green-50 border-green-300":s?"bg-blue-50 border-blue-300":r?"bg-red-50 border-red-300":"bg-gray-50 border-gray-300"}`,children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-600 mb-2",children:["Set ",e.setNumber]}),(0,a.jsxs)("div",{className:"text-2xl font-bold mb-2",children:[a.jsx("span",{className:s?"text-green-600":"text-gray-900",children:e.homeScore}),a.jsx("span",{className:"text-gray-400 mx-1",children:"-"}),a.jsx("span",{className:r?"text-green-600":"text-gray-900",children:e.awayScore})]}),a.jsx(d.C,{variant:"success",size:"sm",children:"Finalizado"})]},e.id)})})]})}),g?.athleteStatistics&&g.athleteStatistics.length>0&&a.jsx(c.Z,{className:"mb-6 bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-300",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[a.jsx("svg",{className:"w-6 h-6 text-yellow-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),a.jsx("h3",{className:"text-2xl font-bold text-yellow-900",children:"Destaque da Partida"})]}),P(g.athleteStatistics)&&(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"MVP - Jogador Mais Valioso"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-900 mb-2",children:P(g.athleteStatistics)?.athleteName}),(0,a.jsxs)("div",{className:"flex justify-center gap-8 mt-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-yellow-700",children:"Pontos Totais"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:P(g.athleteStatistics)?.totalPoints})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-yellow-700",children:"Ataques"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:P(g.athleteStatistics)?.attacks.points})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-yellow-700",children:"Bloqueios"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:P(g.athleteStatistics)?.blocks.points})]})]})]})]})}),g?.athleteStatistics&&g.athleteStatistics.length>0&&a.jsx(c.Z,{className:"mb-6",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top 3 Melhores Desempenhos"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...g.athleteStatistics].sort((e,t)=>t.totalPoints-e.totalPoints).slice(0,3).map((e,t)=>(0,a.jsxs)("div",{className:`p-4 rounded-lg border-2 ${0===t?"bg-yellow-50 border-yellow-300":1===t?"bg-gray-100 border-gray-300":"bg-orange-50 border-orange-300"}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:e.athleteName}),(0,a.jsxs)("span",{className:`text-2xl font-bold ${0===t?"text-yellow-600":1===t?"text-gray-600":"text-orange-600"}`,children:["#",t+1]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Pontos:"}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.totalPoints})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Ataques:"}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.attacks.points})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Bloqueios:"}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.blocks.points})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Saques:"}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.serves.aces})]})]})]},e.athleteId))})]})}),g?.athleteStatistics&&g.athleteStatistics.length>0&&a.jsx(c.Z,{className:"mb-6",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Desempenho Completo dos Atletas"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Atleta"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saques"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ataques"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bloqueios"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recep\xe7\xf5es"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Defesas"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.athleteStatistics.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.athleteName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.totalPoints})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.serves.total," (",e.serves.aces," aces)"]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.attacks.total," (",e.attacks.points," pts)"]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.blocks.total," (",e.blocks.points," pts)"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.receptions.total}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.defenses.total," (",e.defenses.success," ok)"]})]},e.athleteId))})]})})]})}),g?.teamStatistics&&a.jsx(c.Z,{className:"mb-6",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Estat\xedsticas Gerais da Partida"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-blue-900",children:"Pontua\xe7\xe3o Total"}),a.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:g.teamStatistics.totalPoints}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Pontos marcados durante a partida"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-green-900",children:"Efici\xeancia de Ataque"}),a.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h.01a1 1 0 110 2H12zm-2 2a1 1 0 100-2 1 1 0 000 2zm4 0a1 1 0 100-2 1 1 0 000 2zm2-4a1 1 0 11-2 0 1 1 0 012 0zm-6 4a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})]}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-green-900",children:[(100*g.teamStatistics.attackEfficiency).toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Taxa de sucesso nos ataques"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-4 rounded-lg border border-yellow-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-yellow-900",children:"Efici\xeancia de Saque"}),a.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M5.5 13a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.3A4.5 4.5 0 1113.5 13H11V9.413l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13H5.5z"})})]}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-yellow-900",children:[(100*g.teamStatistics.serveEfficiency).toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Taxa de sucesso nos saques"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-purple-900",children:"Pontos de Bloqueio"}),a.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})]}),a.jsx("p",{className:"text-3xl font-bold text-purple-900",children:g.teamStatistics.blockPoints}),a.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Pontos conquistados em bloqueios"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-4 rounded-lg border border-red-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-red-900",children:"Total de Erros"}),a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),a.jsx("p",{className:"text-3xl font-bold text-red-900",children:g.teamStatistics.totalErrors}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Erros cometidos durante a partida"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-4 rounded-lg border border-indigo-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-indigo-900",children:"Qualidade de Recep\xe7\xe3o"}),a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})]}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-indigo-900",children:[(100*g.teamStatistics.receptionQuality).toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-indigo-700 mt-1",children:"Qualidade das recep\xe7\xf5es"})]})]}),(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Efici\xeancia de Ataque"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[(100*g.teamStatistics.attackEfficiency).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(100*g.teamStatistics.attackEfficiency,100)}%`}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Efici\xeancia de Saque"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[(100*g.teamStatistics.serveEfficiency).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${Math.min(100*g.teamStatistics.serveEfficiency,100)}%`}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Qualidade de Recep\xe7\xe3o"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[(100*g.teamStatistics.receptionQuality).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${Math.min(100*g.teamStatistics.receptionQuality,100)}%`}})})]})]})]})})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx(c.Z,{className:"max-w-md",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-600 mb-4",children:"Partida n\xe3o encontrada"}),a.jsx(o.z,{onClick:()=>e.push("/coach/matches"),children:"Voltar para Partidas"})]})})})}},70793:(e,t,s)=>{"use strict";s.d(t,{C:()=>r});var a=s(95344);s(3729);let r=({children:e,variant:t="default",size:s="md",className:r=""})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[t]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"}[s]} ${r}`,children:e})},79956:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(95344);s(3729);let r=({children:e,title:t,subtitle:s,footer:r,className:i="",padding:l="md",hoverable:n=!1,onClick:o})=>{let c={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,a.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 transition-all ${n?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""} ${o?"cursor-pointer touch-manipulation":""} ${i}`,onClick:()=>{o&&o()},onKeyDown:e=>{o&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),o())},role:o?"button":void 0,tabIndex:o?0:void 0,children:[(t||s)&&(0,a.jsxs)("div",{className:`border-b border-gray-200 ${c[l]} pb-3`,children:[t&&a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),s&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),a.jsx("div",{className:c[l],children:e}),r&&a.jsx("div",{className:`border-t border-gray-200 ${c[l]} pt-3`,children:r})]})}},66700:(e,t,s)=>{"use strict";s.d(t,{a:()=>l});var a=s(3729),r=s(8428),i=s(25750);let l=()=>{let e=(0,r.useRouter)(),[t,s]=(0,a.useState)(null),[l,n]=(0,a.useState)(!0),[o,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(()=>{let t=(0,i.hP)(),a=(0,i.PR)();t&&a?(0,i.pw)(t)?((0,i.DH)(),s(null),c(!1),e.push("/login")):(s(a),c(!0)):(s(null),c(!1)),n(!1)})()},[e]),{user:t,isLoading:l,isAuthenticated:o,logout:()=>{(0,i.DH)(),s(null),c(!1),e.push("/login")}}}},39873:(e,t,s)=>{"use strict";s.d(t,{$P:()=>l,FD:()=>f,Hd:()=>d,Jx:()=>m,Rt:()=>g,Wo:()=>o,dX:()=>p,h_:()=>i,ig:()=>u,nz:()=>h,qN:()=>n,rA:()=>x,zl:()=>c});var a=s(25750);let r="http://localhost:4000";async function i(e){let t=(0,a.hP)(),s=new URLSearchParams;e?.status&&s.append("status",e.status),e?.teamId&&s.append("teamId",e.teamId),e?.page&&s.append("page",e.page.toString()),e?.pageSize&&s.append("pageSize",e.pageSize.toString());let i=`${r}/api/matches${s.toString()?`?${s.toString()}`:""}`,l=await fetch(i,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!l.ok)throw Error("Failed to fetch matches");return l.json()}async function l(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/matches/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok)throw Error("Failed to fetch match details");return(await s.json()).match}async function n(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/matches`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let e=await s.json().catch(()=>({message:"Failed to create match"}));throw Error(e.error||e.message||"Failed to create match")}return s.json()}async function o(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/matches/${e}/start`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!s.ok)throw Error("Failed to start match");return s.json()}async function c(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/matches/${e.matchId}/actions`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error((await s.json().catch(()=>({message:"Failed to register action"}))).message||"Failed to register action");return s.json()}async function d(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/statistics/match/${e}/live`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok){let e=await s.json().catch(()=>({message:"Failed to fetch live statistics"}));throw console.error("Live statistics error:",e),Error(e.error||e.message||"Failed to fetch live statistics")}let i=await s.json();return console.log("Live statistics response:",i),i.liveStatistics||i}async function m(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/matches/${e}/sets`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!s.ok){let e=await s.json().catch(()=>({message:"Failed to create set"}));throw Error(e.error||e.message||"Failed to create set")}let i=await s.json();return{set:i.set||i}}async function x(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/sets/${e}/finalize`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!s.ok){let e=await s.json().catch(()=>({message:"Failed to finalize set"}));throw Error(e.error||e.message||"Failed to finalize set")}return s.json()}async function h(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/matches/${e}/sets`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok)throw Error("Failed to fetch match sets");let i=await s.json();return i.sets||i}async function u(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/matches/${e}/finalize`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!s.ok){let e=await s.json().catch(()=>({message:"Failed to finalize match"}));throw Error(e.error||e.message||"Failed to finalize match")}return s.json()}async function p(e){let t=(0,a.hP)();console.log("Fetching match statistics for:",e);let s=await fetch(`${r}/api/statistics/match/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok){let e=await s.json().catch(()=>({message:"Failed to fetch match statistics"}));throw console.error("Match statistics error:",e),Error(e.error||e.message||"Failed to fetch match statistics")}let i=await s.json();return console.log("Match statistics response:",i),i.statistics||i}async function g(e){let t=(0,a.hP)(),s=await fetch(`${r}/api/matches/${e}/actions/last`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok){let e=await s.json().catch(()=>({message:"Failed to undo action"}));throw Error(e.error||e.message||"Failed to undo action")}return s.json()}async function f(e,t){let s=(0,a.hP)();if(!s)throw Error("No authentication token available. Please log in again.");try{let e=s.split(".");if(3===e.length){let t=JSON.parse(atob(e[1])),s=Date.now()/1e3;if(t.exp&&t.exp<s)throw Error("Authentication token has expired. Please log in again.")}}catch(e){console.warn("Could not validate token expiration:",e)}let i=await fetch(`${r}/api/statistics/match/${e}/export?format=${t}`,{headers:{Authorization:`Bearer ${s}`}});if(!i.ok){let e=await i.text().catch(()=>`Failed to export match statistics as ${t}`),s=`Failed to export match statistics as ${t}`;try{let t=JSON.parse(e);s=t.error||t.message||s}catch{s=e||s}throw Error(s)}return i.blob()}},25750:(e,t,s)=>{"use strict";s.d(t,{DH:()=>n,PR:()=>l,av:()=>i,hP:()=>r,pw:()=>c,vD:()=>a});let a=e=>{},r=()=>null,i=e=>{},l=()=>null,n=()=>{},o=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(s)}catch{return null}},c=e=>{let t=o(e);if(!t||!t.exp)return!0;let s=Date.now()/1e3;return t.exp<s}},56987:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});let a=(0,s(86843).createProxy)(String.raw`C:\Users\guilherme.almeida\Documents\GitHub\Gestao-Atletas-front\src\app\coach\matches\[id]\finalize\page.tsx`),{__esModule:r,$$typeof:i}=a,l=a.default}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[160,454],()=>s(92599));module.exports=a})();