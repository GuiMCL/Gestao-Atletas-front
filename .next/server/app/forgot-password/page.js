(()=>{var e={};e.id=781,e.ids=[781],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},36655:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.ZP,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>l});var s=r(50482),a=r(69108),i=r(83543),o=r(68300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let l=["",{children:["forgot-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,87861)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\forgot-password\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,56887)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24117)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\forgot-password\\page.tsx"],c="/forgot-password/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/forgot-password/page",pathname:"/forgot-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},56306:(e,t,r)=>{Promise.resolve().then(r.bind(r,2973))},2973:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(95344),a=r(3729),i=r(8428),o=r(60708),n=r(34034),l=r(10342),d=r(31791);function c(){let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),{register:h,handleSubmit:g,formState:{errors:x}}=(0,o.cI)(),f=async e=>{r(""),u(!1),m(!0);try{await (0,d.gF)(e),u(!0)}catch(e){r(e instanceof Error?e.message:"Falha ao enviar email de redefini\xe7\xe3o de senha. Tente novamente.")}finally{m(!1)}};return c?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verifique seu email"}),s.jsx("div",{className:"mt-4 bg-green-50 border border-green-400 text-green-700 px-4 py-3 rounded",children:s.jsx("p",{className:"text-center",children:"Enviamos um email com instru\xe7\xf5es para redefinir sua senha. Por favor, verifique sua caixa de entrada e siga o link fornecido."})})]}),s.jsx("div",{className:"mt-6",children:s.jsx(n.z,{type:"button",variant:"primary",fullWidth:!0,onClick:()=>e.push("/login"),children:"Voltar para Login"})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Redefinir sua senha"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Digite seu endere\xe7o de email e enviaremos um link para redefinir sua senha."})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g(f),children:[t&&s.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:s.jsx("span",{className:"block sm:inline",children:t})}),s.jsx("div",{children:s.jsx(l.I,{label:"Endere\xe7o de email",type:"email",autoComplete:"email",fullWidth:!0,error:x.email?.message,...h("email",{required:"Email \xe9 obrigat\xf3rio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Endere\xe7o de email inv\xe1lido"}})})}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(n.z,{type:"submit",variant:"primary",fullWidth:!0,loading:p,disabled:p,children:p?"Enviando...":"Enviar link de redefini\xe7\xe3o"}),s.jsx(n.z,{type:"button",variant:"outline",fullWidth:!0,onClick:()=>e.push("/login"),disabled:p,children:"Voltar para Login"})]})]})]})})}},10342:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(95344);let a=(0,r(3729).forwardRef)(({label:e,error:t,helperText:r,fullWidth:a=!1,validationState:i="default",className:o="",id:n,...l},d)=>{let c=n||`input-${Math.random().toString(36).substr(2,9)}`,u=t?"error":i;return(0,s.jsxs)("div",{className:a?"w-full":"",children:[e&&s.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),s.jsx("input",{ref:d,id:c,className:`block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400 ${{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[u]} ${a?"w-full":""} ${o}`,...l}),t&&s.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t}),r&&!t&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});a.displayName="Input"},31791:(e,t,r)=>{"use strict";r.d(t,{LH:()=>d,a$:()=>n,c0:()=>o,checkPasswordChange:()=>l,gF:()=>i,x4:()=>a});let s="http://localhost:4000",a=async e=>{let t=await fetch(`${s}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Login failed"}))).message||"Invalid credentials");return t.json()},i=async e=>{let t=await fetch(`${s}/api/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Request failed"}))).message||"Failed to send password reset email")},o=async e=>{let t=await fetch(`${s}/api/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Reset failed"}))).message||"Failed to reset password")};async function n(e){let t=await fetch(`${s}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to register user");return(await t.json()).user}async function l(e){let t=await fetch(`${s}/api/auth/check-password-change`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Check failed"}))).message||"Failed to check password change requirement");return t.json()}async function d(e,t){let r=await fetch(`${s}/api/auth/change-password-first-login`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({newPassword:t})});if(!r.ok)throw Error((await r.json().catch(()=>({message:"Change failed"}))).message||"Failed to change password");return r.json()}},87861:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});let s=(0,r(86843).createProxy)(String.raw`C:\Users\guilherme.almeida\Documents\GitHub\Gestao-Atletas-front\src\app\forgot-password\page.tsx`),{__esModule:a,$$typeof:i}=s,o=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[160,865,454],()=>r(36655));module.exports=s})();