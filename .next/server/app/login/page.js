(()=>{var e={};e.id=626,e.ids=[626],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},56766:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.ZP,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(50482),a=r(69108),o=r(83543),n=r(68300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);let l=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,91613)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,56887)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24117)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\login\\page.tsx"],d="/login/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},20016:(e,t,r)=>{Promise.resolve().then(r.bind(r,99682))},99682:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(95344),a=r(3729),o=r(8428),n=r(60708),i=r(34034),l=r(10342),c=r(31791),d=r(25750);function u(){let e=(0,o.useRouter)(),[t,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),{register:m,handleSubmit:g,formState:{errors:f}}=(0,n.cI)(),x=async t=>{u(""),h(!0);try{let s=await (0,c.x4)(t);(0,d.vD)({accessToken:s.accessToken,refreshToken:s.refreshToken}),(0,d.av)(s.user);try{let{checkPasswordChange:t}=await Promise.resolve().then(r.bind(r,31791));if((await t(s.accessToken)).needsPasswordChange){e.push("/change-password-first-login");return}}catch(e){console.warn("Could not check password change requirement:",e)}switch(s.user.role){case"ATHLETE":e.push("/dashboard");break;case"COACH":e.push("/coach/dashboard");break;case"ADMIN":e.push("/admin/dashboard");break;default:e.push("/")}}catch(e){u(e instanceof Error?e.message:"Falha no login, tente novamente.")}finally{h(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[s.jsx("div",{children:s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sistema de Gerenciamento de Voleibol"})}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g(x),children:[t&&s.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:s.jsx("span",{className:"block sm:inline",children:t})}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(l.I,{label:"Nome de usu\xe1rio",type:"text",autoComplete:"username",fullWidth:!0,error:f.username?.message,...m("username",{required:"Nome de usu\xe1rio \xe9 obrigat\xf3rio",minLength:{value:3,message:"O nome de usu\xe1rio deve ter pelo menos 3 caracteres"}})}),s.jsx(l.I,{label:"Senha",type:"password",autoComplete:"current-password",fullWidth:!0,error:f.password?.message,...m("password",{required:"Senha \xe9 obrigat\xf3ria",minLength:{value:6,message:"A senha deve ter pelo menos 6 caracteres"}})})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"text-sm",children:s.jsx("a",{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Esqueceu sua senha?"})})}),s.jsx("div",{children:s.jsx(i.z,{type:"submit",variant:"primary",fullWidth:!0,loading:p,disabled:p,children:p?"Entrando...":"Entrar"})})]})]})})}},10342:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(95344);let a=(0,r(3729).forwardRef)(({label:e,error:t,helperText:r,fullWidth:a=!1,validationState:o="default",className:n="",id:i,...l},c)=>{let d=i||`input-${Math.random().toString(36).substr(2,9)}`,u=t?"error":o;return(0,s.jsxs)("div",{className:a?"w-full":"",children:[e&&s.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),s.jsx("input",{ref:c,id:d,className:`block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400 ${{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[u]} ${a?"w-full":""} ${n}`,...l}),t&&s.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t}),r&&!t&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});a.displayName="Input"},31791:(e,t,r)=>{"use strict";r.d(t,{LH:()=>c,a$:()=>i,c0:()=>n,checkPasswordChange:()=>l,gF:()=>o,x4:()=>a});let s="http://191.252.184.121:4000",a=async e=>{let t=await fetch(`${s}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Login failed"}))).message||"Invalid credentials");return t.json()},o=async e=>{let t=await fetch(`${s}/api/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Request failed"}))).message||"Failed to send password reset email")},n=async e=>{let t=await fetch(`${s}/api/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Reset failed"}))).message||"Failed to reset password")};async function i(e){let t=await fetch(`${s}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to register user");return(await t.json()).user}async function l(e){let t=await fetch(`${s}/api/auth/check-password-change`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Check failed"}))).message||"Failed to check password change requirement");return t.json()}async function c(e,t){let r=await fetch(`${s}/api/auth/change-password-first-login`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({newPassword:t})});if(!r.ok)throw Error((await r.json().catch(()=>({message:"Change failed"}))).message||"Failed to change password");return r.json()}},25750:(e,t,r)=>{"use strict";r.d(t,{DH:()=>i,PR:()=>n,av:()=>o,hP:()=>a,pw:()=>c,vD:()=>s});let s=e=>{},a=()=>null,o=e=>{},n=()=>null,i=()=>{},l=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch{return null}},c=e=>{let t=l(e);if(!t||!t.exp)return!0;let r=Date.now()/1e3;return t.exp<r}},91613:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>n});let s=(0,r(86843).createProxy)(String.raw`C:\Users\guilherme.almeida\Documents\GitHub\Gestao-Atletas-front\src\app\login\page.tsx`),{__esModule:a,$$typeof:o}=s,n=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[160,865,367],()=>r(56766));module.exports=s})();