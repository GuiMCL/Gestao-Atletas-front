(()=>{var e={};e.id=619,e.ids=[619],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},75227:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.ZP,__next_app__:()=>m,originalPathname:()=>d,pages:()=>c,routeModule:()=>h,tree:()=>l});var r=a(50482),s=a(69108),n=a(83543),o=a(68300),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let l=["",{children:["teams",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,85789)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\teams\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,56887)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,24117)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\teams\\page.tsx"],d="/teams/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/teams/page",pathname:"/teams",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},58877:(e,t,a)=>{Promise.resolve().then(a.bind(a,35671))},8428:(e,t,a)=>{"use strict";var r=a(14767);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},35671:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(95344),s=a(3729),n=a(66700),o=a(34034),i=a(79956),l=a(52354),c=a(94794);function d(){let{isAuthenticated:e,isLoading:t}=(0,n.a)(),[a,d]=(0,s.useState)([]),[m,h]=(0,s.useState)(!0),[u,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{!t&&e&&x()},[t,e]);let x=async()=>{try{h(!0),p(null);let e=await (0,c.getAllTeams)();d(e)}catch(e){p("Falha ao carregar times"),console.error(e)}finally{h(!1)}};return t||m?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando times..."})]})}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Teams"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"View all teams and their performance analytics"})]}),r.jsx(o.z,{variant:"outline",onClick:()=>window.location.href="/dashboard",children:"Voltar para Painel"})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[r.jsx("p",{className:"text-red-800",children:u}),r.jsx(o.z,{variant:"secondary",size:"sm",className:"mt-2",onClick:x,children:"Tentar Novamente"})]}),r.jsx(i.Z,{children:(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("div",{className:"flex justify-between items-center mb-6",children:(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["All Teams (",a.length,")"]})}),0===a.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),r.jsx("p",{className:"text-gray-600 text-lg",children:"No teams found"}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Contact an administrator to create teams"})]}):r.jsx(l.w,{data:a,columns:[{key:"name",header:"Team Name",sortable:!0,render:e=>r.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:e})},{key:"athleteCount",header:"Athletes",sortable:!0,render:e=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,r.jsxs)("span",{className:"text-gray-700 font-medium",children:[e||0," athletes"]})]})},{key:"id",header:"Actions",render:(e,t)=>r.jsx("div",{className:"flex gap-2",children:r.jsx(o.z,{variant:"primary",size:"sm",onClick:e=>{e.stopPropagation(),window.location.href=`/coach/team/analytics?teamId=${t.id}`},children:"View Analytics"})})}],onRowClick:e=>{window.location.href=`/coach/team/analytics?teamId=${e.id}`}})]})})]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx(i.Z,{className:"max-w-md",children:(0,r.jsxs)("div",{className:"text-center p-6",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Por favor, fa\xe7a login para visualizar times"}),r.jsx(o.z,{onClick:()=>window.location.href="/login",children:"Ir para Login"})]})})})}},79956:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(95344);a(3729);let s=({children:e,title:t,subtitle:a,footer:s,className:n="",padding:o="md",hoverable:i=!1,onClick:l})=>{let c={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,r.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 transition-all ${i?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""} ${l?"cursor-pointer touch-manipulation":""} ${n}`,onClick:()=>{l&&l()},onKeyDown:e=>{l&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l())},role:l?"button":void 0,tabIndex:l?0:void 0,children:[(t||a)&&(0,r.jsxs)("div",{className:`border-b border-gray-200 ${c[o]} pb-3`,children:[t&&r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),a&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a})]}),r.jsx("div",{className:c[o],children:e}),s&&r.jsx("div",{className:`border-t border-gray-200 ${c[o]} pt-3`,children:s})]})}},52354:(e,t,a)=>{"use strict";a.d(t,{w:()=>n});var r=a(95344),s=a(3729);function n({data:e,columns:t,onRowClick:a,pagination:n=!1,pageSize:o=10,className:i="",emptyMessage:l="No data available"}){let[c,d]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),[u,p]=(0,s.useState)(1),x=(e,t)=>{t&&(c===e?"asc"===m?h("desc"):"desc"===m&&(h(null),d(null)):(d(e),h("asc")))},g=(0,s.useMemo)(()=>c&&m?[...e].sort((e,t)=>{let a=e[c],r=t[c];if(a===r)return 0;let s=a<r?-1:1;return"asc"===m?s:-s}):e,[e,c,m]),y=(0,s.useMemo)(()=>{if(!n)return g;let e=(u-1)*o;return g.slice(e,e+o)},[g,n,u,o]),f=Math.ceil(e.length/o),j=e=>{p(e)},b=e=>c!==e?"⇅":"asc"===m?"↑":"desc"===m?"↓":"⇅";return(0,r.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden ${i}`,children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsx("tr",{children:t.map(e=>r.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${e.sortable?"cursor-pointer hover:bg-gray-100":""}`,style:{width:e.width},onClick:()=>x(e.key,e.sortable),children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:e.header}),e.sortable&&r.jsx("span",{className:"text-gray-400",children:b(e.key)})]})},e.key))})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===y.length?r.jsx("tr",{children:r.jsx("td",{colSpan:t.length,className:"px-6 py-8 text-center text-sm text-gray-500",children:l})}):y.map((e,s)=>r.jsx("tr",{className:`${a?"cursor-pointer hover:bg-gray-50":""} transition-colors`,onClick:()=>a?.(e),children:t.map(t=>r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.render?t.render(e[t.key],e):e[t.key]},t.key))},s))})]})}),n&&f>1&&(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(u-1)*o+1," to"," ",Math.min(u*o,e.length)," of ",e.length," results"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>j(u-1),disabled:1===u,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:f},(e,t)=>t+1).map(e=>r.jsx("button",{onClick:()=>j(e),className:`px-3 py-1 text-sm font-medium rounded-md ${u===e?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:e},e)),r.jsx("button",{onClick:()=>j(u+1),disabled:u===f,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}},66700:(e,t,a)=>{"use strict";a.d(t,{a:()=>o});var r=a(3729),s=a(8428),n=a(25750);let o=()=>{let e=(0,s.useRouter)(),[t,a]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(()=>{let t=(0,n.hP)(),r=(0,n.PR)();t&&r?(0,n.pw)(t)?((0,n.DH)(),a(null),c(!1),e.push("/login")):(a(r),c(!0)):(a(null),c(!1)),i(!1)})()},[e]),{user:t,isLoading:o,isAuthenticated:l,logout:()=>{(0,n.DH)(),a(null),c(!1),e.push("/login")}}}},94794:(e,t,a)=>{"use strict";a.d(t,{Cm:()=>m,LD:()=>c,P3:()=>o,VP:()=>n,Yy:()=>l,fs:()=>h,getAllTeams:()=>d,yw:()=>i});var r=a(25750);let s="http://localhost:4000";async function n(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/teams/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team details");return a.json()}async function o(e){let t=(0,r.hP)();console.log("Fetching team statistics for:",e);let a=await fetch(`${s}/api/teams/${e}/statistics`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch team statistics"}));throw console.error("Team statistics error:",e),Error(e.error||e.message||"Failed to fetch team statistics")}let n=await a.json();return console.log("Team statistics response:",n),n.statistics||n}async function i(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/teams/${e}/athletes`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team athletes");let n=await a.json();return n.athletes||n}async function l(e,t){let a=(0,r.hP)(),n=new URLSearchParams;n.append("metric","totalPoints"),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),t?.opponent&&n.append("opponentTeamId",t.opponent);let o=`${s}/api/teams/${e}/rankings?${n.toString()}`;console.log("Fetching team rankings:",o);let i=await fetch(o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!i.ok){let e=await i.json().catch(()=>({message:"Failed to fetch team rankings"}));throw console.error("Team rankings error:",e),Error(e.error||e.message||"Failed to fetch team rankings")}let l=await i.json();return console.log("Team rankings response:",l),l.rankings||l}async function c(e,t){let a=(0,r.hP)(),n=new URLSearchParams;t?.fundamental||n.append("metric","attackEfficiency"),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),t?.opponent&&n.append("opponentTeamId",t.opponent),t?.fundamental&&n.append("fundamental",t.fundamental);let o=`${s}/api/teams/${e}/trends${n.toString()?`?${n.toString()}`:""}`;console.log("Fetching team trends:",o);let i=await fetch(o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!i.ok){let e=await i.json().catch(()=>({message:"Failed to fetch team trends"}));throw console.error("Team trends error:",e),Error(e.error||e.message||"Failed to fetch team trends")}let l=await i.json();return console.log("Team trends response:",l),l.trends||l}async function d(){let e=(0,r.hP)(),t=await fetch(`${s}/api/teams`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch teams");return(await t.json()).teams}async function m(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/teams`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok)throw Error("Failed to create team");return(await a.json()).team}async function h(e,t){let a=(0,r.hP)(),n=await fetch(`${s}/api/teams/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!n.ok)throw Error("Failed to update team");return(await n.json()).team}},25750:(e,t,a)=>{"use strict";a.d(t,{DH:()=>i,PR:()=>o,av:()=>n,hP:()=>s,pw:()=>c,vD:()=>r});let r=e=>{},s=()=>null,n=e=>{},o=()=>null,i=()=>{},l=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch{return null}},c=e=>{let t=l(e);if(!t||!t.exp)return!0;let a=Date.now()/1e3;return t.exp<a}},85789:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});let r=(0,a(86843).createProxy)(String.raw`C:\Users\guilherme.almeida\Documents\GitHub\Gestao-Atletas-front\src\app\teams\page.tsx`),{__esModule:s,$$typeof:n}=r,o=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[160,454],()=>a(75227));module.exports=r})();