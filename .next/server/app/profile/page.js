(()=>{var e={};e.id=178,e.ids=[178],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1159:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.ZP,__next_app__:()=>m,originalPathname:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>n});var s=r(50482),a=r(69108),l=r(83543),o=r(68300),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let n=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,65648)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,56887)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24117)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\profile\\page.tsx"],c="/profile/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},79441:(e,t,r)=>{Promise.resolve().then(r.bind(r,2034))},8428:(e,t,r)=>{"use strict";var s=r(14767);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},2034:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(95344),a=r(3729),l=r(8428),o=r(66700),i=r(75536),n=r(79956),d=r(34034),c=r(10342),m=r(98649);let u=(0,a.forwardRef)(({label:e,error:t,helperText:r,fullWidth:l=!1,validationState:o="default",accept:i="image/*",maxSize:n,preview:d=!0,onChange:c,className:m="",id:u,...x},h)=>{let[p,f]=(0,a.useState)(null),[b,g]=(0,a.useState)(null),[j,y]=(0,a.useState)(null),v=u||`fileupload-${Math.random().toString(36).substr(2,9)}`,N=t||j?"error":o,w=t||j,P=(0,a.useCallback)(e=>{let t=e.target.files?.[0]||null;if(y(null),t){if(n&&t.size>n){let e=(n/1048576).toFixed(2);y(`File size exceeds ${e}MB limit`),g(null),f(null),c?.(null);return}if(g(t.name),d&&t.type.startsWith("image/")){let e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(t)}else f(null);c?.(t)}else g(null),f(null),c?.(null)},[n,d,c]),k=(0,a.useCallback)(()=>{g(null),f(null),y(null),c?.(null);let e=document.getElementById(v);e&&(e.value="")},[v,c]);return(0,s.jsxs)("div",{className:l?"w-full":"",children:[e&&s.jsx("label",{htmlFor:v,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,s.jsxs)("div",{className:l?"w-full":"",children:[s.jsx("input",{ref:h,id:v,type:"file",accept:i,onChange:P,className:`block w-full text-sm text-gray-900 border rounded-lg cursor-pointer bg-white focus:outline-none transition-colors ${{default:"border-gray-300 focus:border-blue-500",error:"border-red-500 focus:border-red-500",success:"border-green-500 focus:border-green-500"}[N]} ${m}`,...x}),b&&(0,s.jsxs)("div",{className:"mt-2 flex items-center justify-between p-2 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:b}),s.jsx("button",{type:"button",onClick:k,className:"ml-2 text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]}),p&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:p,alt:"Preview",className:"max-w-full h-auto max-h-48 rounded-lg border border-gray-200"})})]}),w&&s.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:w}),r&&!w&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});u.displayName="FileUpload";var x=r(53527),h=r(4075);function p(){let e=(0,l.useRouter)(),{user:t,isLoading:r,isAuthenticated:p}=(0,o.a)(),[f,b]=(0,a.useState)(null),[g,j]=(0,a.useState)(null),[y,v]=(0,a.useState)(!0),[N,w]=(0,a.useState)(null),[P,k]=(0,a.useState)(!1),[$,E]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[F,A]=(0,a.useState)({name:"",position:"",jerseyNumber:0,bio:""}),[M,z]=(0,a.useState)(null),[T,R]=(0,a.useState)({});(0,a.useEffect)(()=>{if(!r&&!p){e.push("/login");return}if(t&&"ATHLETE"!==t.role){e.push("/");return}t&&B()},[t,p,r,e]);let B=async()=>{if(t)try{v(!0),w(null);let e=t.id,r=await (0,i.sh)(e);b(r.athlete),j(r.statistics),A({name:r.athlete.name,position:r.athlete.position,jerseyNumber:r.athlete.jerseyNumber,bio:r.athlete.bio||""})}catch(e){console.error("Error loading profile data:",e),w("Falha ao carregar dados do perfil. Tente novamente.")}finally{v(!1)}},L=e=>{let{name:t,value:r}=e.target;A(e=>({...e,[t]:"jerseyNumber"===t?parseInt(r)||0:r})),T[t]&&R(e=>{let r={...e};return delete r[t],r})},_=()=>{let e={};return F.name.trim()||(e.name="Name is required"),F.position||(e.position="Position is required"),(F.jerseyNumber<1||F.jerseyNumber>99)&&(e.jerseyNumber="Jersey number must be between 1 and 99"),R(e),0===Object.keys(e).length},D=async()=>{if(_()&&f)try{E(!0),C(!1),w(null);let e=f.photoUrl;M&&(e=await (0,i.Ef)(f.id,M));let t=await (0,i.$D)(f.id,{name:F.name,position:F.position,jerseyNumber:F.jerseyNumber,bio:F.bio,photoUrl:e});b(t),k(!1),C(!0),z(null),setTimeout(()=>C(!1),3e3)}catch(e){console.error("Error saving profile:",e),w("Falha ao salvar perfil. Tente novamente.")}finally{E(!1)}};return r||y?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando perfil..."})]})}):N&&!f?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx(n.Z,{className:"max-w-md",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600 mb-4",children:N}),s.jsx(d.z,{onClick:B,children:"Retry"})]})})}):f&&g?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsx("div",{className:"flex justify-between items-center",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>e.push("/dashboard"),children:"← Voltar para Painel"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Perfil"})]})})})}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8 pb-20 md:pb-8",children:[S&&s.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Profile updated successfully!"})}),N&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800 text-sm font-medium",children:N})}),(0,s.jsxs)(n.Z,{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Profile Information"}),P?(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>{f&&A({name:f.name,position:f.position,jerseyNumber:f.jerseyNumber,bio:f.bio||""}),z(null),R({}),k(!1)},disabled:$,children:"Cancel"}),s.jsx(d.z,{size:"sm",onClick:D,disabled:$,children:$?"Saving...":"Save Changes"})]}):s.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>k(!0),children:"Edit Profile"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsx("div",{className:"flex flex-col items-center",children:P?s.jsx(u,{label:"Profile Photo",accept:"image/*",maxSize:5242880,preview:!0,onChange:z,helperText:"Max size: 5MB. Formats: JPG, PNG"}):s.jsx(s.Fragment,{children:f.photoUrl?s.jsx("img",{src:f.photoUrl,alt:f.name,className:"w-32 h-32 rounded-full object-cover border-4 border-blue-100"}):s.jsx("div",{className:"w-32 h-32 rounded-full bg-blue-100 flex items-center justify-center border-4 border-blue-200",children:s.jsx("span",{className:"text-4xl font-bold text-blue-600",children:f.name.charAt(0).toUpperCase()})})})})}),s.jsx("div",{className:"md:col-span-2 space-y-4",children:P?(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.I,{label:"Full Name",name:"name",value:F.name,onChange:L,error:T.name,fullWidth:!0,required:!0}),s.jsx(m.P,{label:"Position",name:"position",value:F.position,onChange:L,options:[{value:"SETTER",label:"Setter"},{value:"OUTSIDE_HITTER",label:"Outside Hitter"},{value:"OPPOSITE",label:"Opposite"},{value:"MIDDLE_BLOCKER",label:"Middle Blocker"},{value:"LIBERO",label:"Libero"}],error:T.position,fullWidth:!0,required:!0}),s.jsx(c.I,{label:"Jersey Number",name:"jerseyNumber",type:"number",min:"1",max:"99",value:F.jerseyNumber,onChange:L,error:T.jerseyNumber,fullWidth:!0,required:!0}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),s.jsx("textarea",{name:"bio",value:F.bio,onChange:L,rows:4,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tell us about yourself..."})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Full Name"}),s.jsx("p",{className:"mt-1 text-lg text-gray-900",children:f.name})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Position"}),s.jsx("p",{className:"mt-1 text-lg text-gray-900",children:f.position.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Jersey Number"}),(0,s.jsxs)("p",{className:"mt-1 text-lg text-gray-900",children:["#",f.jerseyNumber]})]}),f.bio&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Bio"}),s.jsx("p",{className:"mt-1 text-gray-900",children:f.bio})]})]})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Career Statistics"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(x.W,{title:"Total Matches",value:g.totalMatches,subtitle:"Career matches played",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(x.W,{title:"Total Sets",value:g.totalSets,subtitle:"Sets played",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(x.W,{title:"Total Points",value:g.totalPoints,subtitle:`${g.averagePointsPerSet.toFixed(1)} per set`,icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),(0,s.jsxs)(n.Z,{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-blue-600 mb-1",children:"Attack Efficiency"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[(100*g.attackEfficiency).toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-green-600 mb-1",children:"Serve Efficiency"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[(100*g.serveEfficiency).toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-purple-600 mb-1",children:"Reception Quality"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:g.receptionQuality.toFixed(2)})]}),(0,s.jsxs)("div",{className:"p-4 bg-orange-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-orange-600 mb-1",children:"Block Efficiency"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-orange-900",children:[(100*g.blockEfficiency).toFixed(1),"%"]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Errors"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:g.totalErrors})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Points/Set"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:g.averagePointsPerSet.toFixed(1)})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Error Rate"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:g.totalSets>0?(g.totalErrors/g.totalSets).toFixed(1):"0.0"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Point/Error Ratio"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:g.totalErrors>0?(g.totalPoints/g.totalErrors).toFixed(2):g.totalPoints.toFixed(2)})]})]})})]})]})]}),s.jsx(h.z,{})]}):null}},79956:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(95344);r(3729);let a=({children:e,title:t,subtitle:r,footer:a,className:l="",padding:o="md",hoverable:i=!1,onClick:n})=>{let d={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,s.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 transition-all ${i?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""} ${n?"cursor-pointer touch-manipulation":""} ${l}`,onClick:()=>{n&&n()},onKeyDown:e=>{n&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),n())},role:n?"button":void 0,tabIndex:n?0:void 0,children:[(t||r)&&(0,s.jsxs)("div",{className:`border-b border-gray-200 ${d[o]} pb-3`,children:[t&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),r&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r})]}),s.jsx("div",{className:d[o],children:e}),a&&s.jsx("div",{className:`border-t border-gray-200 ${d[o]} pt-3`,children:a})]})}},10342:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(95344);let a=(0,r(3729).forwardRef)(({label:e,error:t,helperText:r,fullWidth:a=!1,validationState:l="default",className:o="",id:i,...n},d)=>{let c=i||`input-${Math.random().toString(36).substr(2,9)}`,m=t?"error":l;return(0,s.jsxs)("div",{className:a?"w-full":"",children:[e&&s.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),s.jsx("input",{ref:d,id:c,className:`block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400 ${{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[m]} ${a?"w-full":""} ${o}`,...n}),t&&s.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t}),r&&!t&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});a.displayName="Input"},4075:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var s=r(95344);r(3729);var a=r(8428);let l=({unreadNotifications:e=0})=>{let t=(0,a.useRouter)(),r=(0,a.usePathname)(),l=[{name:"Dashboard",path:"/dashboard",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:"Matches",path:"/matches",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Notifications",path:"/notifications",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),badge:e},{name:"Profile",path:"/profile",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],o=e=>"/dashboard"===e?r===e:r?.startsWith(e);return s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 safe-area-inset-bottom",children:s.jsx("div",{className:"flex justify-around items-center h-16",children:l.map(e=>(0,s.jsxs)("button",{onClick:()=>t.push(e.path),className:`flex flex-col items-center justify-center flex-1 h-full relative transition-colors touch-manipulation ${o(e.path)?"text-blue-600":"text-gray-600 active:text-blue-500"}`,"aria-label":e.name,children:[(0,s.jsxs)("div",{className:"relative",children:[e.icon,e.badge&&e.badge>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center font-bold",children:e.badge>9?"9+":e.badge})]}),s.jsx("span",{className:"text-xs mt-1 font-medium",children:e.name}),o(e.path)&&s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-blue-600 rounded-t-full"})]},e.path))})})}},98649:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var s=r(95344);let a=(0,r(3729).forwardRef)(({label:e,error:t,helperText:r,fullWidth:a=!1,validationState:l="default",options:o,placeholder:i,className:n="",id:d,...c},m)=>{let u=d||`select-${Math.random().toString(36).substr(2,9)}`,x=t?"error":l;return(0,s.jsxs)("div",{className:a?"w-full":"",children:[e&&s.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,s.jsxs)("select",{ref:m,id:u,className:`block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 ${{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[x]} ${a?"w-full":""} ${n}`,...c,children:[i&&s.jsx("option",{value:"",disabled:!0,children:i}),o.map(e=>s.jsx("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),t&&s.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t}),r&&!t&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});a.displayName="Select"},53527:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var s=r(95344);r(3729);let a=({title:e,value:t,trend:r,trendValue:a,icon:l,className:o="",subtitle:i})=>s.jsx("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 p-4 sm:p-6 ${o}`,children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1 truncate",children:e}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 truncate",children:t}),i&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:i}),r&&a&&(0,s.jsxs)("div",{className:`flex items-center mt-2 text-xs sm:text-sm ${{up:"text-green-600",down:"text-red-600",neutral:"text-gray-600"}[r]}`,children:[s.jsx("span",{className:"mr-1",children:{up:"↑",down:"↓",neutral:"→"}[r]}),s.jsx("span",{className:"truncate",children:a})]})]}),l&&s.jsx("div",{className:"flex-shrink-0 ml-2 sm:ml-4 text-gray-400",children:l})]})})},66700:(e,t,r)=>{"use strict";r.d(t,{a:()=>o});var s=r(3729),a=r(8428),l=r(25750);let o=()=>{let e=(0,a.useRouter)(),[t,r]=(0,s.useState)(null),[o,i]=(0,s.useState)(!0),[n,d]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(()=>{let t=(0,l.hP)(),s=(0,l.PR)();t&&s?(0,l.pw)(t)?((0,l.DH)(),r(null),d(!1),e.push("/login")):(r(s),d(!0)):(r(null),d(!1)),i(!1)})()},[e]),{user:t,isLoading:o,isAuthenticated:n,logout:()=>{(0,l.DH)(),r(null),d(!1),e.push("/login")}}}},75536:(e,t,r)=>{"use strict";r.d(t,{$D:()=>d,E2:()=>x,Ef:()=>c,Ex:()=>i,PM:()=>u,getMyAthleteProfile:()=>l,sh:()=>o,uz:()=>m,yw:()=>n});var s=r(25750);let a="http://191.252.184.121:4000";async function l(){let e=(0,s.hP)();console.log("[getMyAthleteProfile] API_BASE_URL:",a),console.log("[getMyAthleteProfile] Fetching:",`${a}/api/athletes/me`);let t=await fetch(`${a}/api/athletes/me`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("[getMyAthleteProfile] Response status:",t.status),!t.ok){let e=await t.json().catch(()=>({message:"Failed to fetch athlete profile"}));throw console.error("[getMyAthleteProfile] Error:",e),Error(e.error||e.message||"Failed to fetch athlete profile")}let r=await t.json();return console.log("[getMyAthleteProfile] Data received:",r),r}async function o(e){let t=(0,s.hP)(),r=await fetch(`${a}/api/athletes/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw Error("Failed to fetch athlete profile");return r.json()}async function i(e,t=1,r=10){let l=(0,s.hP)(),o=await fetch(`${a}/api/athletes/${e}/matches?page=${t}&pageSize=${r}`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!o.ok)throw Error("Failed to fetch athlete matches");return o.json()}async function n(e){let t=(0,s.hP)(),r=await fetch(`${a}/api/matches/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw Error("Failed to fetch match details");return r.json()}async function d(e,t){let r=(0,s.hP)(),l=await fetch(`${a}/api/athletes/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok)throw Error("Failed to update athlete profile");return l.json()}async function c(e,t){let r=(0,s.hP)(),l=new FormData;l.append("photo",t);let o=await fetch(`${a}/api/athletes/${e}/photo`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:l});if(!o.ok)throw Error("Failed to upload photo");return(await o.json()).photoUrl}async function m(e){let t=(0,s.hP)(),r=new URLSearchParams;e?.teamId&&r.append("teamId",e.teamId),e?.activeOnly&&r.append("activeOnly","true"),e?.search&&r.append("search",e.search);let l=await fetch(`${a}/api/athletes?${r.toString()}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!l.ok)throw Error("Failed to fetch athletes");return(await l.json()).athletes}async function u(e){let t=(0,s.hP)(),r=await fetch(`${a}/api/athletes`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json()).error||"Failed to create athlete");return(await r.json()).athlete}async function x(e){let t=(0,s.hP)();if(!(await fetch(`${a}/api/athletes/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to deactivate athlete")}},25750:(e,t,r)=>{"use strict";r.d(t,{DH:()=>i,PR:()=>o,av:()=>l,hP:()=>a,pw:()=>d,vD:()=>s});let s=e=>{},a=()=>null,l=e=>{},o=()=>null,i=()=>{},n=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch{return null}},d=e=>{let t=n(e);if(!t||!t.exp)return!0;let r=Date.now()/1e3;return t.exp<r}},65648:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>o});let s=(0,r(86843).createProxy)(String.raw`C:\Users\guilherme.almeida\Documents\GitHub\Gestao-Atletas-front\src\app\profile\page.tsx`),{__esModule:a,$$typeof:l}=s,o=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[160,367],()=>r(1159));module.exports=s})();