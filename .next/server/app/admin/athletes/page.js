(()=>{var e={};e.id=295,e.ids=[295],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83109:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.ZP,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>l});var r=a(50482),s=a(69108),n=a(83543),i=a(68300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let l=["",{children:["admin",{children:["athletes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,55003)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\admin\\athletes\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,56887)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,24117)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\admin\\athletes\\page.tsx"],c="/admin/athletes/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/athletes/page",pathname:"/admin/athletes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},98214:(e,t,a)=>{Promise.resolve().then(a.bind(a,66695))},8428:(e,t,a)=>{"use strict";var r=a(14767);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},66695:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(95344),s=a(3729),n=a(8428),i=a(66700),o=a(75536),l=a(94794),d=a(31791),c=a(34034),u=a(10342),m=a(98649),h=a(72522),p=a(70793);function x(){let e=(0,n.useRouter)(),{user:t,isLoading:a}=(0,i.a)(),[x,g]=(0,s.useState)([]),[f,y]=(0,s.useState)([]),[b,j]=(0,s.useState)(!0),[w,v]=(0,s.useState)(""),[N,P]=(0,s.useState)(""),[$,k]=(0,s.useState)("all"),[C,E]=(0,s.useState)(!1),[T,S]=(0,s.useState)(!1),[A,I]=(0,s.useState)(null),[F,O]=(0,s.useState)(null),[D,B]=(0,s.useState)({name:"",email:"",username:"",password:"",position:"OUTSIDE_HITTER",jerseyNumber:1,teamId:"",bio:""});(0,s.useEffect)(()=>{if(!a&&!t){e.push("/login");return}if(t&&"ADMIN"!==t.role){e.push("/dashboard");return}t&&R()},[t,a,e]);let R=async()=>{try{j(!0);let[e,t]=await Promise.all([(0,o.uz)({activeOnly:!1}),(0,l.getAllTeams)()]);g(e),y(t)}catch(e){console.error("Failed to load data:",e),O("Failed to load athletes and teams")}finally{j(!1)}},z=async e=>{e.preventDefault(),O(null);try{let e=await (0,d.a$)({username:D.username,email:D.email,password:D.password,role:"ATHLETE"});await (0,o.PM)({userId:e.id,name:D.name,position:D.position,jerseyNumber:D.jerseyNumber,teamId:D.teamId,bio:D.bio}),await R(),E(!1),M()}catch(e){console.error("Failed to create athlete:",e),O(e.message||"Failed to create athlete")}},_=async e=>{if(e.preventDefault(),A){O(null);try{await (0,o.$D)(A.id,{name:D.name,position:D.position,jerseyNumber:D.jerseyNumber,bio:D.bio}),await R(),S(!1),I(null),M()}catch(e){console.error("Failed to update athlete:",e),O(e.message||"Failed to update athlete")}}},L=async e=>{if(confirm("Are you sure you want to deactivate this athlete?"))try{await (0,o.E2)(e),await R()}catch(e){console.error("Failed to deactivate athlete:",e),O("Failed to deactivate athlete")}},q=e=>{I(e),B({name:e.name,email:"",username:"",password:"",position:e.position,jerseyNumber:e.jerseyNumber,teamId:e.teamId,bio:e.bio||""}),S(!0)},M=()=>{B({name:"",email:"",username:"",password:"",position:"OUTSIDE_HITTER",jerseyNumber:1,teamId:"",bio:""})},U=x.filter(e=>{let t=e.name.toLowerCase().includes(w.toLowerCase())||e.jerseyNumber.toString().includes(w),a=!N||e.teamId===N,r="all"===$||"active"===$&&e.isActive||"inactive"===$&&!e.isActive;return t&&a&&r});return a||b?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Athlete Management"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Manage athlete profiles and credentials"})]}),F&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-800",children:F})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{children:r.jsx(u.I,{type:"text",placeholder:"Search by name or number...",value:w,onChange:e=>v(e.target.value)})}),r.jsx("div",{children:r.jsx(m.P,{value:N,onChange:e=>P(e.target.value),options:[{value:"",label:"All Teams"},...f.map(e=>({value:e.id,label:e.name}))]})}),r.jsx("div",{children:r.jsx(m.P,{value:$,onChange:e=>k(e.target.value),options:[{value:"all",label:"All Status"},{value:"active",label:"Active Only"},{value:"inactive",label:"Inactive Only"}]})}),r.jsx("div",{children:r.jsx(c.z,{onClick:()=>{M(),E(!0)},className:"w-full",children:"Create Athlete"})})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jersey #"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.jerseyNumber})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.position.replace(/_/g," ")})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:f.find(t=>t.id===e.teamId)?.name||"Unknown"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(p.C,{variant:e.isActive?"success":"default",children:e.isActive?"Active":"Inactive"})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:()=>q(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),e.isActive&&r.jsx("button",{onClick:()=>L(e.id),className:"text-red-600 hover:text-red-900",children:"Deactivate"})]})]},e.id))})]}),0===U.length&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No athletes found"})})]}),r.jsx(h.u,{isOpen:C,onClose:()=>{E(!1),M(),O(null)},title:"Create New Athlete",children:(0,r.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx(u.I,{type:"text",required:!0,value:D.name,onChange:e=>B({...D,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),r.jsx(u.I,{type:"text",required:!0,value:D.username,onChange:e=>B({...D,username:e.target.value})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx(u.I,{type:"email",required:!0,value:D.email,onChange:e=>B({...D,email:e.target.value})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx(u.I,{type:"password",required:!0,value:D.password,onChange:e=>B({...D,password:e.target.value})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team"}),r.jsx(m.P,{required:!0,value:D.teamId,onChange:e=>B({...D,teamId:e.target.value}),options:[{value:"",label:"Select a team"},...f.map(e=>({value:e.id,label:e.name}))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),r.jsx(m.P,{required:!0,value:D.position,onChange:e=>B({...D,position:e.target.value}),options:[{value:"SETTER",label:"Setter"},{value:"OUTSIDE_HITTER",label:"Outside Hitter"},{value:"OPPOSITE",label:"Opposite"},{value:"MIDDLE_BLOCKER",label:"Middle Blocker"},{value:"LIBERO",label:"Libero"}]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jersey Number"}),r.jsx(u.I,{type:"number",required:!0,min:"0",max:"99",value:D.jerseyNumber,onChange:e=>B({...D,jerseyNumber:parseInt(e.target.value)})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio (Optional)"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,value:D.bio,onChange:e=>B({...D,bio:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(c.z,{type:"button",variant:"secondary",onClick:()=>{E(!1),M(),O(null)},children:"Cancel"}),r.jsx(c.z,{type:"submit",children:"Create Athlete"})]})]})}),r.jsx(h.u,{isOpen:T,onClose:()=>{S(!1),I(null),M(),O(null)},title:"Edit Athlete",children:(0,r.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx(u.I,{type:"text",required:!0,value:D.name,onChange:e=>B({...D,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),r.jsx(m.P,{required:!0,value:D.position,onChange:e=>B({...D,position:e.target.value}),options:[{value:"SETTER",label:"Setter"},{value:"OUTSIDE_HITTER",label:"Outside Hitter"},{value:"OPPOSITE",label:"Opposite"},{value:"MIDDLE_BLOCKER",label:"Middle Blocker"},{value:"LIBERO",label:"Libero"}]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jersey Number"}),r.jsx(u.I,{type:"number",required:!0,min:"0",max:"99",value:D.jerseyNumber,onChange:e=>B({...D,jerseyNumber:parseInt(e.target.value)})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio (Optional)"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,value:D.bio,onChange:e=>B({...D,bio:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(c.z,{type:"button",variant:"secondary",onClick:()=>{S(!1),I(null),M(),O(null)},children:"Cancel"}),r.jsx(c.z,{type:"submit",children:"Save Changes"})]})]})})]})})}},70793:(e,t,a)=>{"use strict";a.d(t,{C:()=>s});var r=a(95344);a(3729);let s=({children:e,variant:t="default",size:a="md",className:s=""})=>r.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[t]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"}[a]} ${s}`,children:e})},10342:(e,t,a)=>{"use strict";a.d(t,{I:()=>s});var r=a(95344);let s=(0,a(3729).forwardRef)(({label:e,error:t,helperText:a,fullWidth:s=!1,validationState:n="default",className:i="",id:o,...l},d)=>{let c=o||`input-${Math.random().toString(36).substr(2,9)}`,u=t?"error":n;return(0,r.jsxs)("div",{className:s?"w-full":"",children:[e&&r.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),r.jsx("input",{ref:d,id:c,className:`block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400 ${{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[u]} ${s?"w-full":""} ${i}`,...l}),t&&r.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t}),a&&!t&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]})});s.displayName="Input"},72522:(e,t,a)=>{"use strict";a.d(t,{u:()=>n});var r=a(95344),s=a(3729);let n=({isOpen:e,onClose:t,title:a,children:n,size:i="md"})=>{let o=(0,s.useRef)(null);return((0,s.useEffect)(()=>{let a=a=>{"Escape"===a.key&&e&&t()};return e&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,t]),e)?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:e=>{e.target===e.currentTarget&&t()},role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:(0,r.jsxs)("div",{ref:o,className:`relative w-full ${{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"}[i]} mx-4 bg-white rounded-lg shadow-xl transform transition-all duration-300 scale-100 opacity-100`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:a}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"p-6",children:n})]})}):null}},98649:(e,t,a)=>{"use strict";a.d(t,{P:()=>s});var r=a(95344);let s=(0,a(3729).forwardRef)(({label:e,error:t,helperText:a,fullWidth:s=!1,validationState:n="default",options:i,placeholder:o,className:l="",id:d,...c},u)=>{let m=d||`select-${Math.random().toString(36).substr(2,9)}`,h=t?"error":n;return(0,r.jsxs)("div",{className:s?"w-full":"",children:[e&&r.jsx("label",{htmlFor:m,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,r.jsxs)("select",{ref:u,id:m,className:`block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 ${{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[h]} ${s?"w-full":""} ${l}`,...c,children:[o&&r.jsx("option",{value:"",disabled:!0,children:o}),i.map(e=>r.jsx("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),t&&r.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t}),a&&!t&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]})});s.displayName="Select"},66700:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});var r=a(3729),s=a(8428),n=a(25750);let i=()=>{let e=(0,s.useRouter)(),[t,a]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[l,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(()=>{let t=(0,n.hP)(),r=(0,n.PR)();t&&r?(0,n.pw)(t)?((0,n.DH)(),a(null),d(!1),e.push("/login")):(a(r),d(!0)):(a(null),d(!1)),o(!1)})()},[e]),{user:t,isLoading:i,isAuthenticated:l,logout:()=>{(0,n.DH)(),a(null),d(!1),e.push("/login")}}}},75536:(e,t,a)=>{"use strict";a.d(t,{$D:()=>d,E2:()=>h,Ef:()=>c,Ex:()=>o,PM:()=>m,getMyAthleteProfile:()=>n,sh:()=>i,uz:()=>u,yw:()=>l});var r=a(25750);let s="http://191.252.184.121:4000";async function n(){let e=(0,r.hP)();console.log("[getMyAthleteProfile] API_BASE_URL:",s),console.log("[getMyAthleteProfile] Fetching:",`${s}/api/athletes/me`);let t=await fetch(`${s}/api/athletes/me`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("[getMyAthleteProfile] Response status:",t.status),!t.ok){let e=await t.json().catch(()=>({message:"Failed to fetch athlete profile"}));throw console.error("[getMyAthleteProfile] Error:",e),Error(e.error||e.message||"Failed to fetch athlete profile")}let a=await t.json();return console.log("[getMyAthleteProfile] Data received:",a),a}async function i(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/athletes/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch athlete profile");return a.json()}async function o(e,t=1,a=10){let n=(0,r.hP)(),i=await fetch(`${s}/api/athletes/${e}/matches?page=${t}&pageSize=${a}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!i.ok)throw Error("Failed to fetch athlete matches");return i.json()}async function l(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/matches/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch match details");return a.json()}async function d(e,t){let a=(0,r.hP)(),n=await fetch(`${s}/api/athletes/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw Error("Failed to update athlete profile");return n.json()}async function c(e,t){let a=(0,r.hP)(),n=new FormData;n.append("photo",t);let i=await fetch(`${s}/api/athletes/${e}/photo`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:n});if(!i.ok)throw Error("Failed to upload photo");return(await i.json()).photoUrl}async function u(e){let t=(0,r.hP)(),a=new URLSearchParams;e?.teamId&&a.append("teamId",e.teamId),e?.activeOnly&&a.append("activeOnly","true"),e?.search&&a.append("search",e.search);let n=await fetch(`${s}/api/athletes?${a.toString()}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!n.ok)throw Error("Failed to fetch athletes");return(await n.json()).athletes}async function m(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/athletes`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).error||"Failed to create athlete");return(await a.json()).athlete}async function h(e){let t=(0,r.hP)();if(!(await fetch(`${s}/api/athletes/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to deactivate athlete")}},31791:(e,t,a)=>{"use strict";a.d(t,{LH:()=>d,a$:()=>o,c0:()=>i,checkPasswordChange:()=>l,gF:()=>n,x4:()=>s});let r="http://191.252.184.121:4000",s=async e=>{let t=await fetch(`${r}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Login failed"}))).message||"Invalid credentials");return t.json()},n=async e=>{let t=await fetch(`${r}/api/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Request failed"}))).message||"Failed to send password reset email")},i=async e=>{let t=await fetch(`${r}/api/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Reset failed"}))).message||"Failed to reset password")};async function o(e){let t=await fetch(`${r}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to register user");return(await t.json()).user}async function l(e){let t=await fetch(`${r}/api/auth/check-password-change`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Check failed"}))).message||"Failed to check password change requirement");return t.json()}async function d(e,t){let a=await fetch(`${r}/api/auth/change-password-first-login`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({newPassword:t})});if(!a.ok)throw Error((await a.json().catch(()=>({message:"Change failed"}))).message||"Failed to change password");return a.json()}},94794:(e,t,a)=>{"use strict";a.d(t,{Cm:()=>u,LD:()=>d,P3:()=>i,VP:()=>n,Yy:()=>l,fs:()=>m,getAllTeams:()=>c,yw:()=>o});var r=a(25750);let s="http://191.252.184.121:4000";async function n(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/teams/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team details");return a.json()}async function i(e){let t=(0,r.hP)();console.log("Fetching team statistics for:",e);let a=await fetch(`${s}/api/teams/${e}/statistics`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch team statistics"}));throw console.error("Team statistics error:",e),Error(e.error||e.message||"Failed to fetch team statistics")}let n=await a.json();return console.log("Team statistics response:",n),n.statistics||n}async function o(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/teams/${e}/athletes`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team athletes");let n=await a.json();return n.athletes||n}async function l(e,t){let a=(0,r.hP)(),n=new URLSearchParams;n.append("metric","totalPoints"),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),t?.opponent&&n.append("opponentTeamId",t.opponent);let i=`${s}/api/teams/${e}/rankings?${n.toString()}`;console.log("Fetching team rankings:",i);let o=await fetch(i,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!o.ok){let e=await o.json().catch(()=>({message:"Failed to fetch team rankings"}));throw console.error("Team rankings error:",e),Error(e.error||e.message||"Failed to fetch team rankings")}let l=await o.json();return console.log("Team rankings response:",l),l.rankings||l}async function d(e,t){let a=(0,r.hP)(),n=new URLSearchParams;t?.fundamental||n.append("metric","attackEfficiency"),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),t?.opponent&&n.append("opponentTeamId",t.opponent),t?.fundamental&&n.append("fundamental",t.fundamental);let i=`${s}/api/teams/${e}/trends${n.toString()?`?${n.toString()}`:""}`;console.log("Fetching team trends:",i);let o=await fetch(i,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!o.ok){let e=await o.json().catch(()=>({message:"Failed to fetch team trends"}));throw console.error("Team trends error:",e),Error(e.error||e.message||"Failed to fetch team trends")}let l=await o.json();return console.log("Team trends response:",l),l.trends||l}async function c(){let e=(0,r.hP)(),t=await fetch(`${s}/api/teams`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch teams");return(await t.json()).teams}async function u(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/teams`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok)throw Error("Failed to create team");return(await a.json()).team}async function m(e,t){let a=(0,r.hP)(),n=await fetch(`${s}/api/teams/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!n.ok)throw Error("Failed to update team");return(await n.json()).team}},25750:(e,t,a)=>{"use strict";a.d(t,{DH:()=>o,PR:()=>i,av:()=>n,hP:()=>s,pw:()=>d,vD:()=>r});let r=e=>{},s=()=>null,n=e=>{},i=()=>null,o=()=>{},l=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch{return null}},d=e=>{let t=l(e);if(!t||!t.exp)return!0;let a=Date.now()/1e3;return t.exp<a}},55003:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>i});let r=(0,a(86843).createProxy)(String.raw`C:\Users\guilherme.almeida\Documents\GitHub\Gestao-Atletas-front\src\app\admin\athletes\page.tsx`),{__esModule:s,$$typeof:n}=r,i=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[160,367],()=>a(83109));module.exports=r})();