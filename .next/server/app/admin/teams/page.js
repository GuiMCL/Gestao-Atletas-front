(()=>{var e={};e.id=602,e.ids=[602],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},46427:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.ZP,__next_app__:()=>m,originalPathname:()=>c,pages:()=>d,routeModule:()=>h,tree:()=>o});var r=a(50482),s=a(69108),n=a(83543),i=a(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);a.d(t,l);let o=["",{children:["admin",{children:["teams",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,30742)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\admin\\teams\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,56887)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,24117)),"C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\guilherme.almeida\\Documents\\GitHub\\Gestao-Atletas-front\\src\\app\\admin\\teams\\page.tsx"],c="/admin/teams/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/teams/page",pathname:"/admin/teams",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},49529:(e,t,a)=>{Promise.resolve().then(a.bind(a,69825))},69825:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(95344),s=a(3729),n=a(34034),i=a(79956),l=a(72522),o=a(10342),d=a(52354),c=a(94794);function m(){let[e,t]=(0,s.useState)([]),[a,m]=(0,s.useState)(!0),[h,u]=(0,s.useState)(null),[x,p]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),[j,v]=(0,s.useState)(""),[w,N]=(0,s.useState)(null),[k,C]=(0,s.useState)([]),[$,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{T()},[]);let T=async()=>{try{m(!0),u(null);let e=await (0,c.getAllTeams)();t(e)}catch(e){u("Falha ao carregar times"),console.error(e)}finally{m(!1)}},S=async()=>{if(!j.trim()){u("Nome do time \xe9 obrigat\xf3rio");return}try{P(!0),u(null),await (0,c.Cm)(j.trim()),p(!1),v(""),await T()}catch(e){u("Falha ao criar time"),console.error(e)}finally{P(!1)}},A=async()=>{if(!w||!j.trim()){u("Nome do time \xe9 obrigat\xf3rio");return}try{P(!0),u(null),await (0,c.fs)(w.id,j.trim()),y(!1),v(""),N(null),await T()}catch(e){u("Falha ao atualizar time"),console.error(e)}finally{P(!1)}},z=e=>{N(e),v(e.name),y(!0)},D=async e=>{N(e),b(!0);try{let t=await (0,c.yw)(e.id);C(t)}catch(e){console.error("Failed to load roster:",e),C([])}},E=()=>{p(!1),v(""),u(null)},F=()=>{y(!1),v(""),N(null),u(null)},_=()=>{b(!1),N(null),C([])};return a?r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-600",children:"Carregando times..."})})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage teams and view team rosters"})]}),r.jsx(n.z,{onClick:()=>p(!0),children:"Create Team"})]})}),h&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-800",children:h})}),r.jsx(i.Z,{children:(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"All Teams"}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-600",children:"No teams found"}),r.jsx(n.z,{variant:"secondary",className:"mt-4",onClick:()=>p(!0),children:"Create Your First Team"})]}):r.jsx(d.w,{data:e,columns:[{key:"name",header:"Team Name",sortable:!0,render:e=>r.jsx("span",{className:"font-medium text-gray-900",children:e})},{key:"athleteCount",header:"Athletes",sortable:!0,render:e=>r.jsx("span",{className:"text-gray-600",children:e||0})},{key:"id",header:"Actions",render:(e,t)=>(0,r.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[r.jsx(n.z,{variant:"secondary",size:"sm",onClick:e=>{e.stopPropagation(),z(t)},children:"Edit"}),r.jsx(n.z,{variant:"secondary",size:"sm",onClick:e=>{e.stopPropagation(),D(t)},children:"Roster"}),r.jsx(n.z,{variant:"primary",size:"sm",onClick:e=>{e.stopPropagation(),window.location.href=`/coach/team/analytics?teamId=${t.id}`},children:"Analytics"})]})}],onRowClick:e=>D(e)})]})}),r.jsx(l.u,{isOpen:x,onClose:E,title:"Create New Team",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Name"}),r.jsx(o.I,{type:"text",value:j,onChange:e=>v(e.target.value),placeholder:"Enter team name",disabled:$})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(n.z,{variant:"secondary",onClick:E,disabled:$,children:"Cancel"}),r.jsx(n.z,{onClick:S,disabled:$||!j.trim(),children:$?"Creating...":"Create Team"})]})]})}),r.jsx(l.u,{isOpen:g,onClose:F,title:"Edit Team",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Name"}),r.jsx(o.I,{type:"text",value:j,onChange:e=>v(e.target.value),placeholder:"Enter team name",disabled:$})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(n.z,{variant:"secondary",onClick:F,disabled:$,children:"Cancel"}),r.jsx(n.z,{onClick:A,disabled:$||!j.trim(),children:$?"Saving...":"Save Changes"})]})]})}),r.jsx(l.u,{isOpen:f,onClose:_,title:`${w?.name||"Team"} Roster`,children:(0,r.jsxs)("div",{className:"space-y-4",children:[0===k.length?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-600",children:"No athletes in this team"})}):r.jsx(d.w,{data:k,columns:[{key:"jerseyNumber",header:"Jersey #",sortable:!0,render:e=>(0,r.jsxs)("span",{className:"font-medium text-gray-900",children:["#",e]})},{key:"name",header:"Name",sortable:!0,render:e=>r.jsx("span",{className:"text-gray-900",children:e})},{key:"position",header:"Position",sortable:!0,render:e=>r.jsx("span",{className:"text-gray-600",children:e.replace(/_/g," ")})},{key:"isActive",header:"Status",sortable:!0,render:e=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e?"Active":"Inactive"})}]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(n.z,{variant:"secondary",onClick:_,children:"Close"})})]})})]})})}},79956:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(95344);a(3729);let s=({children:e,title:t,subtitle:a,footer:s,className:n="",padding:i="md",hoverable:l=!1,onClick:o})=>{let d={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return(0,r.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 transition-all ${l?"hover:shadow-lg cursor-pointer active:scale-[0.99]":""} ${o?"cursor-pointer touch-manipulation":""} ${n}`,onClick:()=>{o&&o()},onKeyDown:e=>{o&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),o())},role:o?"button":void 0,tabIndex:o?0:void 0,children:[(t||a)&&(0,r.jsxs)("div",{className:`border-b border-gray-200 ${d[i]} pb-3`,children:[t&&r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),a&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a})]}),r.jsx("div",{className:d[i],children:e}),s&&r.jsx("div",{className:`border-t border-gray-200 ${d[i]} pt-3`,children:s})]})}},52354:(e,t,a)=>{"use strict";a.d(t,{w:()=>n});var r=a(95344),s=a(3729);function n({data:e,columns:t,onRowClick:a,pagination:n=!1,pageSize:i=10,className:l="",emptyMessage:o="No data available"}){let[d,c]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),[u,x]=(0,s.useState)(1),p=(e,t)=>{t&&(d===e?"asc"===m?h("desc"):"desc"===m&&(h(null),c(null)):(c(e),h("asc")))},g=(0,s.useMemo)(()=>d&&m?[...e].sort((e,t)=>{let a=e[d],r=t[d];if(a===r)return 0;let s=a<r?-1:1;return"asc"===m?s:-s}):e,[e,d,m]),y=(0,s.useMemo)(()=>{if(!n)return g;let e=(u-1)*i;return g.slice(e,e+i)},[g,n,u,i]),f=Math.ceil(e.length/i),b=e=>{x(e)},j=e=>d!==e?"⇅":"asc"===m?"↑":"desc"===m?"↓":"⇅";return(0,r.jsxs)("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden ${l}`,children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsx("tr",{children:t.map(e=>r.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${e.sortable?"cursor-pointer hover:bg-gray-100":""}`,style:{width:e.width},onClick:()=>p(e.key,e.sortable),children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:e.header}),e.sortable&&r.jsx("span",{className:"text-gray-400",children:j(e.key)})]})},e.key))})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===y.length?r.jsx("tr",{children:r.jsx("td",{colSpan:t.length,className:"px-6 py-8 text-center text-sm text-gray-500",children:o})}):y.map((e,s)=>r.jsx("tr",{className:`${a?"cursor-pointer hover:bg-gray-50":""} transition-colors`,onClick:()=>a?.(e),children:t.map(t=>r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.render?t.render(e[t.key],e):e[t.key]},t.key))},s))})]})}),n&&f>1&&(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(u-1)*i+1," to"," ",Math.min(u*i,e.length)," of ",e.length," results"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>b(u-1),disabled:1===u,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:f},(e,t)=>t+1).map(e=>r.jsx("button",{onClick:()=>b(e),className:`px-3 py-1 text-sm font-medium rounded-md ${u===e?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:e},e)),r.jsx("button",{onClick:()=>b(u+1),disabled:u===f,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}},10342:(e,t,a)=>{"use strict";a.d(t,{I:()=>s});var r=a(95344);let s=(0,a(3729).forwardRef)(({label:e,error:t,helperText:a,fullWidth:s=!1,validationState:n="default",className:i="",id:l,...o},d)=>{let c=l||`input-${Math.random().toString(36).substr(2,9)}`,m=t?"error":n;return(0,r.jsxs)("div",{className:s?"w-full":"",children:[e&&r.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),r.jsx("input",{ref:d,id:c,className:`block px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-400 ${{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500",success:"border-green-500 focus:border-green-500 focus:ring-green-500"}[m]} ${s?"w-full":""} ${i}`,...o}),t&&r.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t}),a&&!t&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]})});s.displayName="Input"},72522:(e,t,a)=>{"use strict";a.d(t,{u:()=>n});var r=a(95344),s=a(3729);let n=({isOpen:e,onClose:t,title:a,children:n,size:i="md"})=>{let l=(0,s.useRef)(null);return((0,s.useEffect)(()=>{let a=a=>{"Escape"===a.key&&e&&t()};return e&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,t]),e)?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:e=>{e.target===e.currentTarget&&t()},role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:(0,r.jsxs)("div",{ref:l,className:`relative w-full ${{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"}[i]} mx-4 bg-white rounded-lg shadow-xl transform transition-all duration-300 scale-100 opacity-100`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:a}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"p-6",children:n})]})}):null}},94794:(e,t,a)=>{"use strict";a.d(t,{Cm:()=>m,LD:()=>d,P3:()=>i,VP:()=>n,Yy:()=>o,fs:()=>h,getAllTeams:()=>c,yw:()=>l});var r=a(25750);let s="http://191.252.184.121:4000";async function n(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/teams/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team details");return a.json()}async function i(e){let t=(0,r.hP)();console.log("Fetching team statistics for:",e);let a=await fetch(`${s}/api/teams/${e}/statistics`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json().catch(()=>({message:"Failed to fetch team statistics"}));throw console.error("Team statistics error:",e),Error(e.error||e.message||"Failed to fetch team statistics")}let n=await a.json();return console.log("Team statistics response:",n),n.statistics||n}async function l(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/teams/${e}/athletes`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch team athletes");let n=await a.json();return n.athletes||n}async function o(e,t){let a=(0,r.hP)(),n=new URLSearchParams;n.append("metric","totalPoints"),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),t?.opponent&&n.append("opponentTeamId",t.opponent);let i=`${s}/api/teams/${e}/rankings?${n.toString()}`;console.log("Fetching team rankings:",i);let l=await fetch(i,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!l.ok){let e=await l.json().catch(()=>({message:"Failed to fetch team rankings"}));throw console.error("Team rankings error:",e),Error(e.error||e.message||"Failed to fetch team rankings")}let o=await l.json();return console.log("Team rankings response:",o),o.rankings||o}async function d(e,t){let a=(0,r.hP)(),n=new URLSearchParams;t?.fundamental||n.append("metric","attackEfficiency"),t?.startDate&&n.append("startDate",t.startDate),t?.endDate&&n.append("endDate",t.endDate),t?.opponent&&n.append("opponentTeamId",t.opponent),t?.fundamental&&n.append("fundamental",t.fundamental);let i=`${s}/api/teams/${e}/trends${n.toString()?`?${n.toString()}`:""}`;console.log("Fetching team trends:",i);let l=await fetch(i,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!l.ok){let e=await l.json().catch(()=>({message:"Failed to fetch team trends"}));throw console.error("Team trends error:",e),Error(e.error||e.message||"Failed to fetch team trends")}let o=await l.json();return console.log("Team trends response:",o),o.trends||o}async function c(){let e=(0,r.hP)(),t=await fetch(`${s}/api/teams`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch teams");return(await t.json()).teams}async function m(e){let t=(0,r.hP)(),a=await fetch(`${s}/api/teams`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok)throw Error("Failed to create team");return(await a.json()).team}async function h(e,t){let a=(0,r.hP)(),n=await fetch(`${s}/api/teams/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!n.ok)throw Error("Failed to update team");return(await n.json()).team}},25750:(e,t,a)=>{"use strict";a.d(t,{DH:()=>l,PR:()=>i,av:()=>n,hP:()=>s,pw:()=>d,vD:()=>r});let r=e=>{},s=()=>null,n=e=>{},i=()=>null,l=()=>{},o=e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch{return null}},d=e=>{let t=o(e);if(!t||!t.exp)return!0;let a=Date.now()/1e3;return t.exp<a}},30742:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>i});let r=(0,a(86843).createProxy)(String.raw`C:\Users\guilherme.almeida\Documents\GitHub\Gestao-Atletas-front\src\app\admin\teams\page.tsx`),{__esModule:s,$$typeof:n}=r,i=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[160,367],()=>a(46427));module.exports=r})();